
<!--&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-->



</form>
<md-tabs md-dynamic-height md-border-bottom>
<md-tab label="RECEIVING & ISSUING">
    <vertical-tabs>
    <vertical-tab-pane title="ITEM RECEIVING">
        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




        <div style="padding:2em">

            <div layout="row"  >
                <div flex="80"></div>
                <md-checkbox  ng-model="inv" aria-label="Create New Invoice">
                    New Invoice?
                </md-checkbox>
            </div>
            <!--invoices-->
            <div ng-if="inv">

                <md-input-container class="md-block   col-md-6 col-sm-4">
                    <label> Enter  Invoice number</label>
                    <input type="text" class="md-block"   ng-model="invoice.invoice_number">
                    <p></p>

                </md-input-container>
                <md-input-container class="md-block   col-md-6 col-sm-4" >
                    <label> Vendor Name</label>
                    <md-select ng-model="invoice.vendor_id">
                        <md-option ng-repeat="vendor in vendors" ng-value="vendor.id">{{vendor.vendor_name}}</md-option>
                    </md-select>


                </md-input-container >

                <div class="md-block">

                    <md-button class="md-raised md-primary" ng-click="invoice_registration(invoice)" >Save</md-button>


                </div>
            </div>




            <!--invoices-->
            <div ng-if="!inv">
                <div ng-if="!items_array.length>0">
                    <md-input-container class="md-block   col-md-6 col-sm-4">
                        <label> Search Item </label>

                        <input type="text"  class="md-block" typeahead-on-select="" ng-model="item_receive.selectedItem"   uib-typeahead ="item as item.item_name  for item in showSearch($viewValue) | limitTo:8 | filter:$viewValue">

                    </md-input-container>

                    <md-input-container class="md-block   col-md-6 col-sm-4">
                        <label> Choose Store Name</label>
                        <input type="text"  class="md-block" typeahead-on-select="" ng-model="item_receive.selectedStore"   uib-typeahead ="store as store.store_name  for store in main_stores | limitTo:8 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                               class="md-block" typeahead-show-hint="true" typeahead-min-length="0">



                    </md-input-container>

                    <div class="row">
                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label>Choose Invoice Number</label>
                            <input type="text"  class="md-block reg" typeahead-on-select="" ng-model="item_receive.selectedInvoice"   uib-typeahead ="invoice as invoice.invoice_number  for invoice in invoices | limitTo:8 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                   class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                            <b style="color:maroon" role="info"> <b ng-if="item_receive.selectedInvoice.id">VENDOR NAME:  &nbsp;&nbsp;&nbsp;</b>
                                <b ng-if="item_receive.selectedInvoice && item_receive.selectedInvoice.length >=4 && !item_receive.selectedInvoice.id">Invoice may be not yet registered</b>
                                {{item_receive.selectedInvoice.vendor_name}}</b>

                        </md-input-container>
                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label>Select Transaction Type</label>
                            <md-select ng-model="item_receive.transaction_type_id" class="md-block" >
                                <md-option ng-repeat="transtype in transtypespossitive" ng-value="transtype.id">{{transtype.transaction_type}}</md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                    <div class="row">
                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label> Enter Batch Number</label>
                            <input type="text" class="mb-block"   ng-model="item_receive.batch_no" >

                        </md-input-container>
                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label> Enter Remarks</label>
                            <input type="text" class="md-block"  ng-model="item_receive.remarks">

                        </md-input-container>
                    </div>
                    <div class="row">
                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label> Expiry Date </label>
                            <input type="text" class="md-block"   datetime-picker date-only date-format="yyyy-MM-dd"    ng-model="item_receive.expiry_date">

                        </md-input-container>
                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label> Quantity Received</label>
                            <input type="number" class="md-block" min="0"  ng-model="item_receive.quantity">

                        </md-input-container>


                    </div>
                    <div class="row">
                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label> Date of Item/package arrived</label>
                            <input type="text" class="md-block"   datetime-picker date-only date-format="yyyy-MM-dd"    ng-model="item_receive.received_date">

                        </md-input-container>
                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label> Cost Price</label>
                            <input type="text" class="md-block" min="0"   ng-model="item_receive.price">

                        </md-input-container>






                        <md-input-container class="md-block   col-md-6 col-sm-4">
                            <label> Attachment</label>
                            <input type="file" class="md-block"   ng-model="item_receive.attachment_id">

                        </md-input-container>
                        <div class="md-block col-md-2 col-sm-4 ">
                            <md-button class="md-raised md-primary" ng-click="item_receiving_list(item_receive)" >ADD</md-button>

                        </div>


                    </div>
                </div>
            </div>

            <div class="wrapper col-md-12" ng-if="items_array.length>0" >


                <md-input-container class="md-block col-md-4">
                    <label> Item_Name</label>

                    <input type="text"  class="md-block" typeahead-on-select="" ng-model="item_receive.selectedItem"   uib-typeahead ="item as item.item_name  for item in showSearch($viewValue) | limitTo:8 | filter:$viewValue">

                </md-input-container>
                <md-input-container class="md-block col-md-2">
                    <label> Batch_Number</label>
                    <input type="text" class="md-block"   ng-model="item_receive.batch_no" >

                </md-input-container>
                <md-input-container class="md-block col-md-1">
                    <label> Quantity</label>
                    <input type="number" class="md-block" min="0"   ng-model="item_receive.quantity">

                </md-input-container>
                <md-input-container class="md-block col-md-2">
                    <label> Unit Price</label>
                    <input type="text" class="md-block" min="0"   ng-model="item_receive.price">
                </md-input-container>

                <md-input-container class="md-block col-md-2">
                    <label> Expiry Date </label>
                    <input type="text" class="md-block"   datetime-picker date-only date-format="yyyy-MM-dd"  placeholder="Enter  Expiry Date yyyy-mm-dd" ng-model="item_receive.expiry_date">

                </md-input-container>

                <div class="col-md-6 pull-right" >
                    <md-button class="md-raised md-primary" ng-click="item_receiving_list(item_receive)" >ADD  </md-button>

                </div>


            </div>



            <table ng-if="items_array.length>0" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">

                <tr style="background-color: beige">
                    <th class="mdl-data-table__cell--non-numeric"></th>
                    <th class="mdl-data-table__cell--non-numeric"></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ><u>
                        <u>
                            {{total_cost | currency:'  ':2}}
                        </u>
                    </u></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                </tr>
                <tr>
                    <th class="mdl-data-table__cell--non-numeric" >#</th>
                    <th class="mdl-data-table__cell--non-numeric" >Name</th>
                    <th class="mdl-data-table__cell--non-numeric" >Store</th>
                    <th class="mdl-data-table__cell--non-numeric" >Invoice</th>
                    <th class="mdl-data-table__cell--non-numeric" >Remarks</th>
                    <th class="mdl-data-table__cell--non-numeric" >Batch_#</th>
                    <th class="mdl-data-table__cell--non-numeric" >Quantity</th>
                    <th class="mdl-data-table__cell--non-numeric" >Unit_Price</th>
                    <th class="mdl-data-table__cell--non-numeric" >Cost_Price</th>
                    <th class="mdl-data-table__cell--non-numeric" >Expiry_Date</th>
                    <th class="mdl-data-table__cell--non-numeric" >Received_date</th>
                    <th class="mdl-data-table__cell--non-numeric" > </th>

                </tr>
                <tr ng-repeat="array in items_array track by $index">
                    <td class="mdl-data-table__cell--non-numeric">{{$index + 1}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.item_name}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.store_name}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.invoice_number}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.remarks}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.batch_no}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.quantity}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.price | currency:'  ':2}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.price * array.quantity  | currency:'  ':2 }}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.expiry_date}}</td>
                    <td class="mdl-data-table__cell--non-numeric">{{array.received_date}}</td>
                    <td ><a   ng-click="removeItemArray($index)" style="color:maroon" title="Remove from list">Remove</a></td>


                </tr>
                <tr>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ><u>
                        <u>
                            <!--{{total_cost | currency:'  ':2}}-->
                        </u>
                    </u></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                    <th class="mdl-data-table__cell--non-numeric" ></th>
                </tr>
            </table>




            <div class="md-block" ng-if="items_array.length>0">
                <md-button class="md-raised md-primary" ng-click="item_receiving_registration()" >SAVE</md-button>
            </div>

        </div>



    </vertical-tab-pane>

        <vertical-tab-pane title="ITEM ISSUING">

            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


            <div >
                <div class="row">
                    <div class="col-md-12 form-box">
                        <form  >
                            <fieldset>

                                <div class="form-bottom">
                                    <div ng-if="items_array_issue.length<1">
                                        <div class="row">
                                            <md-input-container class="md-block col-md-6 col-md-4 ">
                                                <label> Item Name</label>

                                                <input type="text" id="itm" class="md-block" autocomplete="off" typeahead-on-select="loadBatch(item_issue.selectedItem.item_id)" ng-model="item_issue.selectedItem"  uib-typeahead ="item as item.item_name  for item in showItem($viewValue) | limitTo:8 | filter:$viewValue">

                                                <div style="color: green;" ng-if="!item_issue.selectedItem.item_id" >Choose item you want to issue</div>

                                            </md-input-container>

                                            <md-input-container class="md-block col-md-6 col-md-4" ng-if="item_issue.selectedItem.id &&  batches.length > 0">

                                                <label>Batch Number</label>
                                                <input type="text" id="btch" class="md-block" typeahead-on-select="loadBatchBalance(item_issue.selectedBatch.batch_no,item_issue.selectedBatch.store_id)" ng-model="item_issue.selectedBatch" placeholder="Search Item Batch Number " uib-typeahead ="batch as batch.batch_no +' ' +'Store' +' '+batch.store_name   for batch in batches | limitTo:8 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                       class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                                <b ng-if="!batchesbalances" style="color: maroon;"   > </b>
                                                <b style="color:navy" role="info" ng-if="item_issue.selectedBatch.batch_no && batchesbalances" id="itm1">
                                                    <b id="itm2" ng-if="item_receive.selectedInvoice && item_receive.selectedInvoice.length >=4 && !item_receive.selectedInvoice.id"></b>

                                                </b>

                                            </md-input-container>
                                        </div>
                                        <div class="row" ng-if="item_issue.selectedItem.id &&  batches.length > 0" >

                                            <md-input-container class="md-block col-md-6 col-md-4" ng-if="item_issue.selectedBatch">
                                                <label>Available Quantity</label>

                                                <input type="text" class="md-block" disabled  ng-value="batchesbalances[0].quantity"   title="Available Quantity in {{item_issue.selectedBatch.store_name}}"     ng-model="item_issue.store_balance1"  typeahead-template-url="customTemplate.html"
                                                       class="md-block" typeahead-show-hint="true" typeahead-min-length="0">

                                            </md-input-container>
                                            <md-input-container class="md-block col-md-6 col-md-4">
                                                <label>Issuing/Adjustment Quantity</label>
                                                <input type="number" class="md-block" min="1"   ng-model="item_issue.quantity">
                                                <b ng-if="item_issue.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>

                                            </md-input-container>


                                        </div>

                                        <div class="row" ng-if="item_issue.selectedItem.id &&  batches.length > 0">

                                            <md-input-container class="md-block col-md-6 col-md-4">
                                                <label> Transaction Type</label>

                                                <input type="text"  class="md-block" typeahead-on-select="" ng-model="item_issue.transaction_type_id"   uib-typeahead ="transtype as transtype.transaction_type  for transtype in transtypes | limitTo:20 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                       class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


                                            </md-input-container>
                                            <md-input-container class="md-block col-md-6 col-md-4 " ng-if="item_issue.transaction_type_id.adjustment=='plus'">

                                                <label> Issuing To</label>
                                                <input type="text"  class="md-block " typeahead-on-select="TargetedStoreUserToReceive(item_issue.selectedStore.id)" ng-model="item_issue.selectedStore"   uib-typeahead ="store as store.store_name  for store in stores | limitTo:20 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                       class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


                                            </md-input-container>

                                            <md-input-container class="md-block col-md-6 col-md-4 " ng-if="item_issue.selectedStore.id">

                                                <label>Choose Targeted User To Received</label>
                                                <md-select ng-model="item_issue.user_targeted_id" md-block>
                                                    <md-option value={{target_store_user.user_targeted_id}}" ng-repeat="target_store_user in target_store_users">{{target_store_user.name}} </md-option>
                                                </md-select>

                                            </md-input-container>


                                        </div>
                                        <div class="md-block col-md-6 col-md-4">

                                            <b  style="color:maroon" role="info"  ng-if="batchesbalances[0].quantity && batchesbalances[0].quantity - item_issue.quantity < 0 "> No enough quantity for the selected item batch number or Choose another item batch number </b>
                                            <b  style="color:maroon" role="info"  ng-if="item_issue.selectedStore.id && item_issue.selectedBatch.store_id == item_issue.selectedStore.id"> Oops!!! You can not Issue item within a same store.... </b>


                                            <div class="md-block">
                                                <md-button class="md-raised md-primary" ng-click="pharmacy_item_list_issue(item_issue)" ng-if="item_issue.quantity && item_issue.selectedBatch.store_id != item_issue.selectedStore.id && batchesbalances[0].quantity - item_issue.quantity >=0"  >ADD TO LIST</md-button>
                                            </div>






                                        </div>
                                        <p style="color: maroon;" ng-if="item_issue.selectedItem.id && batches.length < 1" >No balance in your store for this item </p>
                                    </div>

                                    <div class="  col-md-12" ng-if="items_array_issue.length>0" >


                                        <md-input-container class="md-block col-md-6 col-md-4">
                                            <label>Search Item Name</label>

                                            <input type="text" id="isi1" class="md-block " typeahead-on-select="loadBatch(item_issue.selectedItem.item_id)" ng-model="item_issue.selectedItem"   uib-typeahead ="item as item.item_name  for item in showItem($viewValue) | limitTo:8 | filter:$viewValue">

                                        </md-input-container>
                                        <md-input-container  class="col-md-2 md-block">

                                            <label>Batch Number</label>
                                            <input type="text" id="btchi" class="md-block " typeahead-on-select="loadBatchBalance(item_issue.selectedBatch.batch_no,item_issue.selectedBatch.store_id)" ng-model="item_issue.selectedBatch"   uib-typeahead ="batch as batch.batch_no +' ' +'Store' +' '+batch.store_name   for batch in batches | limitTo:8 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                   class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                            <b ng-if="!batchesbalances" style="color: maroon;"   >Choose Batch Number</b>
                                            <b style="color:navy" role="info" ng-if="item_issue.selectedBatch.batch_no && batchesbalances" id="isi">
                                                <b id="isi2" ng-if="item_receive.selectedInvoice && item_receive.selectedInvoice.length >=4 && !item_receive.selectedInvoice.id"></b>

                                            </b>
                                        </md-input-container>

                                        <md-input-container class="col-md-2 col-sm-4 md-block" >
                                            <label>  Quantity</label>
                                            <input type="number" class="md-block" id="qt" min="1"  ng-model="item_issue.quantity">
                                            <b ng-if="item_issue.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>

                                        </md-input-container>

                                        <md-input-container class="md-block col-md-3 col-sm-4">
                                            <label> Transaction Type</label>

                                            <input type="text"  class="md-block " typeahead-on-select="" ng-model="item_issue.transaction_type_id"  uib-typeahead ="transtype as transtype.transaction_type  for transtype in transtypes | limitTo:20 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                   class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


                                        </md-input-container>

                                        <div class="col-md-6 pull-right" >
                                            <md-button class="md-raised md-primary" ng-click="pharmacy_item_list_issue(item_issue)" >ADD  </md-button>

                                        </div>


                                    </div>


                                    <div>

                                        <table ng-if="items_array_issue.length>0" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                                            <tr style="background-color: beige">
                                                <th class="mdl-data-table__cell--non-numeric" >#</th>
                                                <th class="mdl-data-table__cell--non-numeric" >Name</th>
                                                <th class="mdl-data-table__cell--non-numeric" >Form</th>
                                                <th class="mdl-data-table__cell--non-numeric" >To</th>
                                                <th class="mdl-data-table__cell--non-numeric" >Batch_#</th>
                                                <th class="mdl-data-table__cell--non-numeric" >Quantity</th>

                                                <th class="mdl-data-table__cell--non-numeric" > </th>

                                            </tr>
                                            <tr ng-repeat="array in items_array_issue track by $index">
                                                <td class="mdl-data-table__cell--non-numeric">{{$index + 1}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{array.item_name}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{array.from}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{array.store_name}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{array.batch_no}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{array.quantity_issued}}</td>

                                                <td class="mdl-data-table__cell--non-numeric" ><a   ng-click="removeItemArray_issue($index)" style="color:maroon" title="Remove from list">Remove</a></td>


                                            </tr>

                                        </table>

                                    </div>


                                    <md-button  class="md-raised md-primary " ng-click="pharmacy_item_issuing(item_issue)" ng-if="items_array_issue.length>0">SAVE</md-button>

                                </div>



                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>



            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




        </vertical-tab-pane>



    </vertical-tabs>




    <md-tab label="ITEMS RECORD">


        <vertical-tabs>
            <vertical-tab-pane title="STORE RECORDS">

                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->
                <md-input-container class="md-block">
                    <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                </md-input-container>

                <div >
                    <div class="row">
                        <div class="col-md-12 form-box">
                            <form  >
                                <fieldset>

                                    <div  class="form-bottom">

                                        <div id='divtoprint1'>
                                            <b ng-click="PrintContent_balance()" title="Print"
                                               class="no-print "><b class="glyphicon glyphicon-print "></b> </b>
                                            <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                                                {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                                                <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                                                <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>

                                            </center>
                                            <hr>
                                            <h3 ng-if="report.id" class="text-center  md-block" style="border-radius: 50px;color:green ">  {{report.balance}} </h3>


                                            <div style="overflow-x:scroll;max-width:960px;" >

                                                <input type="text"  class="md-block no-print  pull-right" typeahead-on-select="pharmacy_report(report.id)" ng-model="report" placeholder="Search report Options " uib-typeahead ="report as report.balance  for report in reports | limitTo:8 | filter:$viewValue" typeahead-template-url="customTemplate.html"
                                                       typeahead-show-hint="true" typeahead-min-length="0">
                                                <hr>


                                                <table   class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%"  >


                                                    <thead style="background-color: beige">

                                                    <tr>
                                                        <td class="mdl-data-table__cell--non-numeric">

                                                            No

                                                        </td >

                                                        <td class="mdl-data-table__cell--non-numeric">

                                                            Item Code



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">

                                                            Item Name



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">

                                                            Batch No



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">

                                                            Quantity



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Cost Price



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" >

                                                            Store Name



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Store Type



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Invoice



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Vendor Name



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Expiry Date



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Received Date



                                                        </td><td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                        Received By



                                                    </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Status



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric"  >

                                                            Remark



                                                        </td>

                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Requesting Store



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Requesting amount



                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                            Issued amount



                                                        </td> <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">

                                                        Date of action



                                                    </td>


                                                    </tr>
                                                    </thead>

                                                    <tbody>
                                                    <tr  dir-paginate="item in items  |itemsPerPage:100 |orderBy:sortKey:reverse | filter:search track by $index">
                                                        <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.item_code}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.item_name}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.batch_no}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.quantity}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.price | currency:"TZS "}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric">  {{item.store_name}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.store_type_name}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.invoice_number}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.vendor_name}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.expiry_date}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.received_date}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.name}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.transaction_type}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.remarks}}  </td>

                                                        <td class="mdl-data-table__cell--non-numeric"   ng-if="report.id ==1 && item.expirydate >6"  title="{{item.expirydate}} Months remained to Expired "  >   </td>
                                                        <td class="mdl-data-table__cell--non-numeric"  ng-if="report.id ==1 && item.expirydate >3 && item.expirydate <6" title="{{item.expirydate}} Months remained to Expired "  > <b class="btn btn" style="background-color: yellow"  ></b>  </td>
                                                        <td  class="mdl-data-table__cell--non-numeric"  ng-if="report.id ==1 && item.expirydate >0 && item.expirydate <3" align="center"  title="  {{item.expirydate}}  Months remained to Expired " > <b class="btn btn" style="background-color: red"  ></b>   </td>
                                                        <td class="mdl-data-table__cell--non-numeric"  ng-if="report.id ==1 && item.expirydate <1"    title="Expired [{{item.expirydate * -1}}   months ago] " > <b class="btn btn" style="background-color: darkred"  ></b>   </td>



                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.issued_store_name}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.requested_amount}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.issued_quantity}}  </td>
                                                        <td class="mdl-data-table__cell--non-numeric" ng-if="report.id !=1">  {{item.updated_at}}  </td>

                                                    </tbody>

                                                </table>



                                                <dir-pagination-controls
                                                        max-size="5"
                                                        direction-links="true"
                                                        boundary-links="true" >
                                                </dir-pagination-controls>

                                                <div ng-if="report.id ==1">
                                                    <hr>
                                                    <canvas id="bar" class="chart chart-bar"
                                                            chart-data="data" chart-labels="labels" >
                                                    </canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </div>


                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


            </vertical-tab-pane>

            <vertical-tab-pane title="RECEIVED AND ISSUED ">
                <md-input-container class="md-block">
                    <input type="text" autocomplete="off" ng-model="search" class="md-block" placeholder="Quick Search......">
                </md-input-container>

                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

                <md-radio-group layout="row" ng-model="data.receive_r">
                    <md-radio-button value="rec_r" class="md-primary">Received record</md-radio-button>
                    <md-radio-button value="issue_r" class="md-primary">Issued Record </md-radio-button>
                </md-radio-group>

                <div class="pull-right">
                    <input type="datetime" ng-model="data.start_date" datetime-picker date-only date-format="yyyy-MM-dd hh:mm:ss" placeholder="Start Date">
                    <input type="datetime"  ng-model="data.end_date" datetime-picker date-only date-format="yyyy-MM-dd hh:mm:ss" placeholder="End Date">

                    <md-button   ng-click="Receive_issueSearch(data)" class="md-raised md-raised-search ">Search</md-button>
                </div>
                <div >
                    <div class="row">
                        <div class="col-md-12 form-box">
                            <form  >
                                <fieldset>
                                    <a onclick="PrintContent_r();" title="Print" ng-if="data.receive_r=='rec_r'"   class="no-print   pull-right"><b class="md-raised md-raised-print "></b>  </a>
                                    <a onclick="PrintContent_s();" title="Print" ng-if="data.receive_r=='issue_r'"  class="no-print   pull-right"><b class="md-raised md-raised-print "></b>  </a>

                                    <div  class="form-bottom">

                                        <div id='divtoprint_r' ng-if="recs">

                                                <b ng-click="PrintContent_received()" title="Print"
                                                   class="no-print "><b class="glyphicon glyphicon-print "></b> </b>
                                            <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                                                {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                                                <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                                                <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>



                                                <hr></center>
<center>  <strong   class="text-center col-md-offset-6" ng-if="data.receive_r=='rec_r'" > ITEMS RECEIVED LIST</strong>
</center>
                                            <table  ng-if="data.receive_r=='rec_r'"  class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                                                <thead>
                                                <tr style="background-color: beige">
                                                    <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Item</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Store</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Date</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr   ng-repeat="rec in recs   |orderBy:sortKey:reverse | filter:search track by $index">
                                                    <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{rec.item_name}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{rec.quantity}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{rec.store_name}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{rec.created_at}}</td>
                                                </tr>
                                                </tbody>
                                            </table>

                                        </div>
                                        <div id='divtoprint_s' ng-if="issue_s">
                                        <b ng-click="PrintContent_issued()" title="Print"
                                           class="no-print "><b class="glyphicon glyphicon-print "></b> </b>


                                            <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                                                {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                                                <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                                                <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>

                                                <hr></center>
<center> <strong  class="text-center col-md-offset-6" ng-if="data.receive_r=='issue_r'"> ITEMS ISSUED LIST</strong></center>
                                        <table ng-if="data.receive_r=='issue_r'"  class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >
                                            <thead>
                                            <tr style="background-color: beige">
                                                <th class="mdl-data-table__cell--non-numeric">s/n</th>
                                                <th class="mdl-data-table__cell--non-numeric">Item</th>
                                                <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                                <th class="mdl-data-table__cell--non-numeric">From</th>
                                                <th class="mdl-data-table__cell--non-numeric">To</th>
                                                <th class="mdl-data-table__cell--non-numeric">Date</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr   ng-repeat="issue_ in issue_s   |orderBy:sortKey:reverse | filter:search track by $index">
                                                <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{issue_.item_name}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{issue_.quantity}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{issue_.main_store_name}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{issue_.store_name}}</td>
                                                <td class="mdl-data-table__cell--non-numeric">{{issue_.created_at}}</td>

                                            </tr>
                                            </tbody>
                                        </table>

                                    </div>



                                    </div>


                                </fieldset>
                            </form>
                        </div>
                    </div>
                </div>

                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


            </vertical-tab-pane>

            <vertical-tab-pane title="TRACER MEDICINE">

                <div class="pull-right">
                    <input type="datetime" ng-model="data.start_date" datetime-picker date-only date-format="yyyy-MM-dd hh:mm:ss" placeholder="Start Date">
                    <input type="datetime"  ng-model="data.end_date" datetime-picker date-only date-format="yyyy-MM-dd hh:mm:ss" placeholder="End Date">

                    <md-button   ng-click="tracer_medicines_report(data)" class="">Search</md-button>

                </div>
<div id="tracer">
                <b ng-click="PrintContent_tracer()" title="Print"
                   class="no-print "><b class="glyphicon glyphicon-print "></b> </b>
    <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
        {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
        <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
        <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>

        <hr></center>
    <center>TRACER MEDICINE REPORT</center>
                <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="tracers.length>0" flex="100">




                                                    <tr style="background-color:#c1c1c1">

                                                        <th class="mdl-data-table__cell--non-numeric"> Na </th>
                                                        <th class="mdl-data-table__cell--non-numeric">Maelezo</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Je Kituo
                                                            kinatoa
                                                            huduma hii?<p>
                                                                1=ndio
                                                                0=hapana</th>

                                                        <th class="mdl-data-table__cell--non-numeric">Hali ya
                                                            kiashiria/dawa
                                                            ipo/haipo?<p>
                                                                1=ndio
                                                                0=hapana</th>
                                                        <th class="mdl-data-table__cell--non-numeric">Kama haipo
                                                            A: chini ya wiki
                                                            mo ja <p>
                                                                B: wiki 1-4
                                                                C:Zaidi ya mwezi mzima</th>





                                                    </tr>

                                                    <tr ng-repeat="tracer in tracers track by $index">

                                                        <th class="mdl-data-table__cell--non-numeric">{{$index + 1}}</th>
                                                        <th class="mdl-data-table__cell--non-numeric">{{tracer.item_name}}</th>
                                                        <th class="mdl-data-table__cell--non-numeric">{{tracer.status}}</th>
                                                        <th class="mdl-data-table__cell--non-numeric"><b ng-if="tracer.quantity <1 && tracer.status==1"> 0</b><b ng-if="tracer.quantity>1 && tracer.status==1"> 1</b></th>
                                                        <th title="{{tracer.days+' days'}}">
                                                            <b ng-if="tracer.quantity<1 && tracer.status==1 && tracer.days <7 "> A</b>
                                                            <b ng-if="tracer.quantity<1 && tracer.status==1 && tracer.days >6 && tracer.days <29 ">B </b>
                                                            <b ng-if="tracer.quantity<1 && tracer.status==1 && tracer.days >30 ">C </b>
                                                        </th>


                                                    </tr>

                                                </table>
</div>

            </vertical-tab-pane>

            <vertical-tab-pane title="EXPIRED ITEMS" ng-click="expired()">

                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

<md-button class="md-raised md-primary" ng-if="!expires" ng-click="expired()">Click Here To View</md-button>
<md-button class="md-raised md-warn" ng-if="expires.length<1" ng-click="expired()">No Record found</md-button>
                <div id="expierd">
                    <b ng-click="PrintContent_expierd()" title="Print"
                       class="no-print "><b class="glyphicon glyphicon-print "></b> </b>
                    <center>   <b class="col-md-4">Jina la Kituo:&nbsp;&nbsp;&nbsp;
                        {{loginUserFacilityDetails[0].facility_name}}&nbsp;&nbsp;&nbsp; </b>
                        <b class="col-md-4">Wilaya :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].council_name}} &nbsp;&nbsp;&nbsp;</b>
                        <b class="col-md-4">Mkoa :&nbsp;&nbsp;&nbsp; {{loginUserFacilityDetails[0].region_name}} </b>

                        </center><hr><center>EXPIRED ITEMS</center>

                <table     class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="expires.length>0">
                    <thead>
                    <tr style="background-color: beige">
                        <th class="mdl-data-table__cell--non-numeric">s/n</th>
                        <th class="mdl-data-table__cell--non-numeric">Item</th>
                        <th class="mdl-data-table__cell--non-numeric">Batch #</th>
                        <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                        <th class="mdl-data-table__cell--non-numeric">Expiry Date</th>
                        <th class="mdl-data-table__cell--non-numeric">Duration since Expired</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr   ng-repeat="rec in expires   |orderBy:sortKey:reverse | filter:search track by $index">
                        <td class="mdl-data-table__cell--non-numeric">{{$index+1}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rec.item_name}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rec.batch_no}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rec.quantity}}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{rec.expiry_date}}</td>
                        <td class="mdl-data-table__cell--non-numeric" ng-if="rec.expirydate>=0">{{rec.expirydate}} Month(s) ago</td>
                        <td class="mdl-data-table__cell--non-numeric" ng-if="rec.expirydate<0">{{-rec.expirydate}} Month(s) ago</td>

                    </tr>
                    </tbody>
                </table>


</div>


                <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


            </vertical-tab-pane>

        </vertical-tabs>


 <md-tab label="REQUISITIONS">

     <vertical-tabs>
         <vertical-tab-pane title="INCOMING REQUISITIONS">

             <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




             <div class="pull-right" ng-if="item_orders.length >0" >
                 <form>

                     Orders<sup class="badge"> {{item_orders.length}} </sup>

                 </form>
             </div>
             <div >
                 <div class="row">
                     <div class="col-md-12 form-box">



                         <form  >
                             <fieldset>

                                 <div class="">

                                     <h3 ng-if="Vieworders.id"><span><i class="fa fa-list-alt" aria-hidden="true"></i></span> PROCESS REQUISITION FOR {{Vieworders.requesting_store_name}}</h3>

                                 </div>

                                 <div class="">

                                     <div ng-if="item_orders.length <1">
                                         NO Order or Requistion placed yet.......
                                     </div>

                                     <table   width="800px" border=1 class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="80%" ng-if="!Vieworders.id" flex="80" >


                                         <thead ng-if="item_orders.length != 0" style="background-color: beige">

                                         <tr >
                                             <td class="mdl-data-table__cell--non-numeric">

                                                 No

                                             </td>

                                             <td class="mdl-data-table__cell--non-numeric">

                                                 Code



                                             </td>
                                             <td class="mdl-data-table__cell--non-numeric">

                                                 Item



                                             </td>

                                             <td class="mdl-data-table__cell--non-numeric" ng-click="sort('requesting_store_name')">

                                                 From



                                             </td>
                                             <td class="mdl-data-table__cell--non-numeric">

                                                 Quantity



                                             </td>


                                             <td class="mdl-data-table__cell--non-numeric" ng-click="sort('store_name')">

                                                  To



                                             </td>

                                             <td class="mdl-data-table__cell--non-numeric" ng-click="sort('created_at')">

                                                  Date

                                             </td>

                                         </tr>
                                         </thead>

                                         <tbody>
                                         <tr ng-repeat="item in item_orders    |orderBy:sortKey:reverse | filter:search track by $index" >
                                             <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>
                                             <td class="mdl-data-table__cell--non-numeric">  {{item.item_code}}  </td>
                                             <td class="mdl-data-table__cell--non-numeric">  {{item.item_name}}  </td>

                                             <td class="mdl-data-table__cell--non-numeric">  {{item.requesting_store_name}}  </td>
                                             <td class="mdl-data-table__cell--non-numeric">  {{item.requested_amount}}  </td>

                                             <td class="mdl-data-table__cell--non-numeric">  {{item.store_name}}  </td>



                                             <td class="mdl-data-table__cell--non-numeric">  {{item.created_at}}  </td>

                                             <td class="mdl-data-table__cell--non-numeric">  <md-button ng-click="Vieworder(item)" class="md-raised md-primary fa fa-send" title="Issue">Issue</md-button> </td>




                                         </tbody>

                                     </table>



                                     <div ng-if="Vieworders.id">




                                         <!--issuing order part-->


                                         <div class="form-bottom">
                                             <div class="row">
                                                 <md-input-container class="md-block col-md-6 col-md-4">
                                                     <label> Item Name</label>

                                                     <input type="text"  title="{{Vieworders.item_name}}"  class="md-block reg" disabled typeahead-on-select="loadBatch(item_issue.selectedItem.item_id)" ng-model="item_issue.selectedItem" ng-value="Vieworders.item_name" placeholder="Search Item " uib-typeahead ="item as item.item_name  for item in showItem($viewValue) | limitTo:8 | filter:$viewValue">

                                                 </md-input-container>
                                                 <md-input-container class="md-block col-md-6 col-md-4" >

                                                     <label>Batch Number</label>
                                                     <input type="text"  class="md-block " typeahead-on-select="loadBatchBalance(item_issue.selectedBatch.batch_no,item_issue.selectedBatch.store_id)" ng-model="item_issue.selectedBatch" placeholder="Search Item Batch Number " uib-typeahead ="batch as batch.batch_no +' ' +'Store' +' '+batch.store_name   for batch in batches | limitTo:8 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                            class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                                     <b ng-if="!batchesbalances" style="color: maroon;" >Choose Batch Number</b>
                                                     <b style="color:navy" role="info"ng-if="item_issue.selectedBatch"> <b >BALANCE:  &nbsp;&nbsp;&nbsp;</b>
                                                         <b ng-if="item_receive.selectedInvoice && item_receive.selectedInvoice.length >=4 && !item_receive.selectedInvoice.id"></b>
                                                         {{batchesbalances[0].quantity}} &nbsp;&nbsp;&nbsp; {{item_issue.selectedBatch.store_name}}
                                                     </b>


                                                 </md-input-container>
                                             </div>
                                             <div class="row">
                                                 <md-input-container class="md-block col-md-6 col-md-4">
                                                     <label>Requested Quantity</label>
                                                     <input disabled type="" class="md-block" min="0" title="{{Vieworders.requesting_store_name}} Requesting Quantity [{{Vieworders.requested_amount}}]" ng-value="Vieworders.requested_amount"  ng-model="item_issue.quantity2">
                                                     <b ng-if="item_issue.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>
                                                 </md-input-container>
                                                 <md-input-container class="md-block col-md-6 col-md-4">
                                                     <label>Issued Quantity</label>
                                                     <input type="number" class="md-block" min="0"  ng-model="item_issue.quantity">
                                                     <b ng-if="item_issue.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>
                                                 </md-input-container>



                                             </div>

                                             <div class="row">

                                                 <md-input-container class="md-block col-md-6 col-md-4">

                                                     <label> Requesting Store</label>
                                                     <input type="text"  class="md-block" title="Requesting Store[{{Vieworders.requesting_store_name}}]" disabled ng-value="Vieworders.requesting_store_name" typeahead-on-select="" ng-model="item_issue.selectedStore"   uib-typeahead ="store as store.store_name  for store in stores | limitTo:8 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                            class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


                                                 </md-input-container>

                                                 <md-input-container class="md-block col-md-6 col-md-4">
                                                     <label> Transaction Type</label>
                                                     <md-select ng-model="item_issue.transaction_type_id" class="md-block" >
                                                         <md-option ng-repeat="transtype in transtypes" ng-value="transtype.id">{{transtype.transaction_type}}</md-option>
                                                     </md-select>
                                                 </md-input-container>

                                             </div>



                                             <div class="row">
                                                 <md-input-container class="md-block">
                                                     <b  style="color:maroon" role="info"  ng-if="batchesbalances[0].quantity && batchesbalances[0].quantity - item_issue.quantity < 0 "> No enough quantity for the selected item batch number or Choose another item batch number </b>
                                                     <b  style="color:maroon" role="info"  ng-if="item_issue.selectedStore.id && item_issue.selectedBatch.store_id == item_issue.selectedStore.id"> Oops!!! You can not Issue item within a same store.... </b>
                                                     <md-button  class="md-raised md-primary " ng-click="order_issuing(item_issue,Vieworders)" ng-if="item_issue.quantity && item_issue.selectedBatch.store_id != item_issue.selectedStore.id && batchesbalances[0].quantity - item_issue.quantity >=0">Register</md-button>

                                                 </md-input-container>
                                                 <div class="md-block">
                                                     <b ng-click="Cancelorder() " > <md-button class="md-raised md-danger fa fa-remove">Cancel</md-button>  </b>

                                                 </div>



                                             </div>


                                         </div>



                                         <!--issuing order part-->



                                     </div>


                                 </div>
                             </fieldset>
                         </form>
                     </div>
                 </div>
             </div>


             <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



         </vertical-tab-pane>

         <vertical-tab-pane title="CREATE REQUISITIONS">
             <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


             <!--Test-->
             <script type="text/ng-template" id="customTemplate.html">
                 <a>

                     <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>
                 </a>
             </script>

             <div >
                 <div class="row">
                     <div class="col-md-12 form-box">
                         <form  >
                             <fieldset>

                                 <div class=" ">

                                     <md-input-container class="md-block col-md-3 col-sm-4">
                                         <label> Item Name</label>

                                         <input type="text" id="itm3" class="md-block" typeahead-on-select="" ng-model="order.selectedItem"   uib-typeahead ="item as item.item_name  for item in showSearch($viewValue) | limitTo:8 | filter:$viewValue"
                                                typeahead-template-url="customTemplate.html"
                                                class="md-block" typeahead-show-hint="true" typeahead-min-length="0">

                                     </md-input-container>
                                     <md-input-container class="md-block col-md-3 col-sm-4">
                                         <label> Quantity Requesting</label>
                                         <input type="number" id="itm4" class="md-block" min="0"  ng-model="order.quantity">
                                         <b ng-if="order.quantity<0" style="color:maroon" role="remove"> Issuing Quantity Can not Be Negative value</b>

                                     </md-input-container>
                                     <md-input-container class="md-block col-md-3 col-sm-4">
                                         <label> Request To</label>
                                         <input type="text"  class="md-block" typeahead-on-select="" ng-model="order.selectedStoreRequestReceiver"   uib-typeahead ="store as store.store_name  for store in main_stores | limitTo:8 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                class="md-block" typeahead-show-hint="true" typeahead-min-length="0">

                                     </md-input-container>




                                     <md-input-container class="md-block col-md-3 col-sm-4">
                                         <label> Request From</label>
                                         <input type="text"  class="md-block" typeahead-on-select="" ng-model="order.selectedStoreRequestSender"  uib-typeahead ="store as store.store_name  for store in stores | limitTo:8 | filter:$viewValue"  typeahead-template-url="customTemplate.html"
                                                class="md-block" typeahead-show-hint="true" typeahead-min-length="0">
                                         <b  style="color:maroon" role="info"  ng-if="order.selectedStoreRequesting.store_id && order.selectedStoreRequesting.id == order.selectedStoreRequested.id"> Oops!!! You can not Issue item within a same store.... </b>
                                         <b style="color:maroon" role="remove" ng-if=" order.selectedStoreRequestReceiver.id && order.selectedStoreRequestSender.id == order.selectedStoreRequestReceiver.id">
                                             You can not Request item From similar Store..
                                         </b>

                                     </md-input-container>




                                     <div class="md-block  col-sm-4">
                                         <md-button class="md-raised md-primary pull-right" ng-click="pharmacy_item_list_requisition(order)"  ng-if="order.quantity"  >ADD TO LIST</md-button>
                                     </div>

                                     <div>

                                         <table ng-if="items_array_requisitions.length>0" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%">
                                             <thead style="background-color: beige">
                                             <tr>
                                                 <th class="mdl-data-table__cell--non-numeric">#</th>
                                                 <th class="mdl-data-table__cell--non-numeric">Name</th>
                                                 <th class="mdl-data-table__cell--non-numeric">Form</th>
                                                 <th class="mdl-data-table__cell--non-numeric">To</th>
                                                 <th class="mdl-data-table__cell--non-numeric">Quantity</th>

                                                 <th class="mdl-data-table__cell--non-numeric"> </th>

                                             </tr>

                                             </thead>
                                             <tbody>
                                             <tr ng-repeat="array in items_array_requisitions track by $index">
                                                 <td class="mdl-data-table__cell--non-numeric">{{$index + 1}}</td>
                                                 <td class="mdl-data-table__cell--non-numeric">{{array.item_name}}</td>
                                                 <td class="mdl-data-table__cell--non-numeric">{{array.from}}</td>
                                                 <td class="mdl-data-table__cell--non-numeric">{{array.store_name}}</td>
                                                 <td class="mdl-data-table__cell--non-numeric">{{array.quantity}}</td>

                                                 <td ><a   ng-click="removeItemArray_requisition($index)" style="color:maroon" title="Remove from list">Remove</a></td>


                                             </tr>
                                             </tbody>
                                         </table>

                                     </div>

                                     <md-button ng-if="items_array_requisitions.length>0" class="md-raised md-primary" ng-click="main_store_item_ordering()" >SAVE</md-button>

                                 </div>



                             </fieldset>
                         </form>
                     </div>
                 </div>
             </div>


             <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



         </vertical-tab-pane>



     </vertical-tabs>


<md-tab label="SETTINGS">

    <vertical-tabs>
        <vertical-tab-pane title="CREATE A NEW STORE">

            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


            <div >
                <div class="row">
                    <div class="col-md-12 form-box">
                        <form  >
                            <fieldset>

                                <div class="">







                                    <div class="row col-md-12">

                                        <md-input-container class="md-block col-md-6 col-md-4">
                                            <label> Store name</label>
                                            <input type="text" class="md-block"   ng-model="store.store_name">
                                            <p></p>


                                        </md-input-container>
                                        <md-input-container class="md-block col-md-6 col-md-4">

                                            <label> Store Type</label>
                                            <md-select ng-model="store.store_type_id" class="form md-block">
                                                <md-option ng-value="store_type.id" ng-repeat="store_type in storetypes">{{store_type.store_type_name}}</md-option>
                                            </md-select>


                                        </md-input-container>



                                        <md-button class="md-raised md-primary" ng-click="store_registration(store)" >Register</md-button>


                                    </div>


                                </div>




                                <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >

                                </table>
                            </fieldset>

                        </form>
                    </div>
                </div>
            </div>

            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


        </vertical-tab-pane>

        <vertical-tab-pane title="CREATE A NEW VENDOR">
            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




            <div >
                <div class="row">
                    <div class="col-md-12 form-box">
                        <form  >
                            <fieldset>

                                <div class="form-bottom">



                                    <div class="row col-md-12">
                                        <md-input-container class="md-block col-md-6 col-md-4">
                                            <label> Vendor Name</label>
                                            <input type="text" class="md-block"  ng-model="vendor.vendor_name">
                                            <p></p>


                                        </md-input-container>
                                        <md-input-container class="md-block col-md-6 col-md-4">
                                            <label> Vendor Address</label>
                                            <input type="text" class="md-block"   ng-model="vendor.vendor_address">
                                            <p></p>


                                        </md-input-container>




                                    </div>
                                    <div class="row col-md-12">

                                        <md-input-container class="md-block col-md-6 col-md-4">
                                            <label> Vendor phone number</label>
                                            <input type="text" class="md-block"   ng-model="vendor.vendor_phone_number">
                                            <p></p>


                                        </md-input-container>
                                        <md-input-container class="md-block col-md-6 col-md-4">
                                            <label> Vendor Contact Person</label>
                                            <input type="text" class="md-block"   ng-model="vendor.vendor_contact_person">
                                            <p></p>


                                        </md-input-container>
                                        <div class="md-block col-md-6 col-md-4">

                                            <md-button class="md-raised md-primary" ng-click="vendor_registration(vendor)" >Register</md-button>


                                        </div>


                                    </div>






                                    <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >

                                    </table>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>



            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





        </vertical-tab-pane>


<vertical-tab-pane title="CREATE A NEW INVOICE">
    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->

    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




    <div >
        <div class="row">
            <div class="col-md-12 form-box">
                <form  >
                    <fieldset>

                        <div class="form-bottom">



                            <md-input-container class="md-block col-md-6 col-md-4">
                                <label> Invoice number</label>
                                <input type="text" class="md-block" placeholder="Enter  Invoice number" ng-model="invoice.invoice_number">
                                <p></p>

                            </md-input-container>
                            <md-input-container class="md-block col-md-6 col-md-4">
                                <label> Vendor Name</label>
                                <md-select ng-model="invoice.vendor_id"  class=" md-block">
                                    <md-option ng-repeat="vendor in vendors" ng-value="vendor.id">{{vendor.vendor_name}}</md-option>
                                </md-select>


                            </md-input-container>
                            <div class="md-block col-md-8 col-sm-4">

                                <md-button class="md-raised md-primary" ng-click="invoice_registration(invoice)" >Save</md-button>


                            </div>



                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" >

                            </table>

                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>



    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



</vertical-tab-pane>
<vertical-tab-pane title="STORES ACCESS ">
    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




    <form >
        <md-input-container class="md-block col-md-6 col-md-4">

            <input type="text"  class="md-block " typeahead-on-select="SelectedUserWithStroreAccess(selectedUser.id)" ng-model="selectedUser"  uib-typeahead ="user as user.name +''+user.mobile_number+' '+user.email for user in SearchUser($viewValue) | limitTo:8 | filter:$viewValue" placeholder="Search User to assign Store to Access"  >


        </md-input-container>


    </form>
    <div >
        <div class="row">
            <div class="col-md-12 form-box">
                <div class="col-md-6">
                    <form   >
                        <fieldset>
                            <div class=" ">
                                <div class="form-top-left">
                                    <b><span><i class="fa fa-gear" aria-hidden="true"></i></span>STORE PER USER CONFIGURATION</b>

                                </div>
                            </div>
                            <div  >


                                <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp"  flex="50"  >


                                    <thead style="background-color: beige">

                                    <tr>
                                        <td class="mdl-data-table__cell--non-numeric">

                                            No

                                        </td>

                                        <td class="mdl-data-table__cell--non-numeric">

                                            Store Name



                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric">

                                            Store Type



                                        </td>

                                        <td class="mdl-data-table__cell--non-numeric">

                                            Check/Tick

                                        </td>
                                    </tr>
                                    </thead>

                                    <tbody>

                                    <tr ng-repeat="store_user in storesListToconfigure   | filter:search track by $index">
                                        <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                        <td class="mdl-data-table__cell--non-numeric"><b  >{{ store_user.store_name }}</b>

                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric"><b  >{{ store_user.store_type_name }}</b>

                                        </td>

                                        <td class="mdl-data-table__cell--non-numeric">
                                            <form >  <md-checkbox class="md-block" ng-click="populateInArray(store_user,selectedUser)"  ng-model="store_user.value1"  ><span></span> </md-checkbox></form>

                                        </td>

                                        <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                    </tr>
                                    <tr>
                                        <th colspan="4">
                                            <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to save" ng-click="store_user_configure()">Save</md-button>

                                        </th>
                                    </tr>
                                    </tbody>

                                </table>

                                <dir-pagination-controls
                                        max-size="5"
                                        direction-links="true"
                                        boundary-links="true"   >
                                </dir-pagination-controls>
                                <table class=" table table-bordered">
                                    <tr ng-if="User_store_populate.length >0">
                                        <th class="mdl-data-table__cell--non-numeric" >User name</th>
                                        <th class="mdl-data-table__cell--non-numeric" >store  name</th>
                                    </tr>
                                    <tr ng-repeat="User in User_store_populate">
                                        <td >{{User.user_name}}</td>
                                        <td >{{User.store_name}}</td>
                                        <td ><a   ng-click="removeItem($index)">X</a></td>
                                    </tr>
                                </table>

                            </div>


                        </fieldset>
                    </form>
                </div>
                <div class="col-md-6" ng-if="access_givens.length>0" flex="50">
                    <div class=" ">
                        <div class="form-top-left">
                            <b><span><i class="fa fa-gear" aria-hidden="true"></i></span>STORE GIVEN ACCESS</b>

                        </div>
                    </div>

                    <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%"   >


                        <thead style="background-color: beige">

                        <tr>
                            <td class="mdl-data-table__cell--non-numeric">

                                No

                            </td>

                            <td class="mdl-data-table__cell--non-numeric">

                                Store Name



                            </td>

                            <td class="mdl-data-table__cell--non-numeric">

                                Check/Tick

                            </td>
                        </tr>
                        </thead>

                        <tbody>

                        <tr ng-repeat="access_given in access_givens  | filter:search track by $index">
                            <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                            <td class="mdl-data-table__cell--non-numeric"><b  >{{ access_given.store_name }}</b>

                            </td>

                            <td class="mdl-data-table__cell--non-numeric">
                                <md-button class="md-block" ng-click="Remove_user_store_access(access_given.access_id)"  ng-model="store_user.value1"  ><span></span> Remove </md-button>

                            </td>

                            <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                        </tr>

                        </tbody>

                    </table>

                </div>


            </div>
        </div>
    </div>


    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



</vertical-tab-pane>
        <vertical-tab-pane title="TRACER MEDICINES">

            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


            <div >
                <div class="row">
                    <div class="col-md-12 form-box">
                        <form  >
                            <fieldset>

                                <div  >

                                    <div class="row">
                                        <md-input-container class="md-block col-md-6 col-md-4">
                                            <label> Search Item Name</label>

                                            <input type="text"  class="md-block  "   ng-model="tracer.selectedItem"   uib-typeahead ="item as item.item_name  for item in showSearch($viewValue) | limitTo:8 | filter:$viewValue"
                                                   typeahead-template-url="customTemplate.html"
                                                   typeahead-show-hint="true" typeahead-min-length="0">

                                        </md-input-container>
                                        <md-input-container class="md-block col-md-6 col-md-4">
                                            <label> Status</label>

                                            <md-select type="text"  class="md-block reg"   ng-model="tracer.status"  >
                                                <md-option disabled  selected value="">-----status-----</md-option>
                                                <md-option value="1">Applicable In This Facility</md-option>
                                                <md-option value="0">Not Applicable In This Facility </md-option>
                                            </md-select>
                                        </md-input-container>


                                        <div class="md-block">
                                            <md-button ng-click="tracer_medicine(tracer)">ADD To LIST</md-button>
                                        </div>



                                    </div>


                                    <md-button class="md-raised md-primary" ng-click="save_tracer_medicine(tracer)" >Register</md-button>
                                    <hr ng-if="tracers && tracers[0].item_id">
                                    <h4 ng-if="tracers && tracers[0].item_id">  item(s) selected &nbsp;&nbsp;&nbsp; <b class="badge" style="color: maroon;  ">{{tracers.length}}</b> </h4>
                                    <table class="table table-bordered" ng-if="tracers && tracers[0].item_id">
                                        <tr>
                                            <th class="mdl-data-table__cell--non-numeric" >Item</th>
                                            <th class="mdl-data-table__cell--non-numeric" >&times;</th>
                                        </tr>
                                        <tr ng-repeat="tracer in tracers">
                                            <td class="mdl-data-table__cell--non-numeric">{{tracer.item_name}}</td>
                                            <td ><a   ng-click="removeTracerItem($index)" style="color:maroon" title="Remove from list">Remove</a></td>

                                        </tr>
                                    </table>



                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>



            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



        </vertical-tab-pane>


    </vertical-tabs>



    </md-tab>
    <md-tab label="SETTING SUMMARY">
        <vertical-tabs>
        <vertical-tab-pane title="STORES LIST">
            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




            <div >
                <div class="row">
                    <div class="col-md-12 form-box">



                        <div class="form-bottom">

                            <b ng-if="!stores" >No store registered yet....</b>
                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%"  ng-if="stores"  >


                                <thead style="background-color: beige">

                                <tr>
                                    <td class="mdl-data-table__cell--non-numeric">

                                        No

                                    </td>

                                    <td class="mdl-data-table__cell--non-numeric" ng-click="sort('store_name')">

                                        Store Name



                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric" ng-click="sort('store_type_name')">

                                        Store Type




                                    </td>

                                    <td class="mdl-data-table__cell--non-numeric">

                                        Edit

                                    </td> <td class="mdl-data-table__cell--non-numeric"  ng-if="!e">

                                    X

                                </td>
                                </tr>
                                </thead>

                                <tbody>
                                <tr ng-repeat="store in storesListToconfigure  |orderBy:sortKey:reverse  | filter:search track by $index">
                                    <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                    <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ store.store_name }}</b>
                                        <h3 ng-if="e">

                                            <md-input-container class="md-block">
                                                <input type="text"  class="md-block" placeholder=" Store Name" ng-model="store.store_name">
                                            </md-input-container>


                                        </h3>
                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ store.store_type_name }}</b>
                                        <h3 ng-if="e">

                                            {{ store.store_type_name}}


                                        </h3>
                                    </td>



                                    <td ng-if="e">
                                        <h3 >

                                            <div class="md-block">


                                                <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to Update This Record" ng-click="store_update(store)">Update</md-button>

                                            </div>
                                        </h3>
                                        <!--<md-button class="btn btn-default" ng-click="edit(region.id)">Edit</md-button>-->




                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric">
                                        <input type="checkbox" class="btn btn-info" ng-model="e">Edit
                                    </td><td  ng-if="!e">
                                    <md-button class="alert-danger" data-toggle="tooltip" title="Click to Delete from List" ng-click="store_delete(store.id)">Delete</md-button>
                                </td>
                                    <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                </tr>
                                </tbody>

                            </table>

                            <dir-pagination-controls
                                    max-size="5"
                                    direction-links="true"
                                    boundary-links="true"   >
                            </dir-pagination-controls>
                        </div>
                        </fieldset>
                        </form>
                    </div>
                </div>
            </div>


            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


        </vertical-tab-pane>
 <vertical-tab-pane title="VENDORS LIST">
     <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




     <div >
         <div class="row">
             <div class="col-md-12 form-box">



                 <div class="form-bottom">
                     <b ng-if="!vendors"> No Vendor registerd yet..</b>
                     <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="vendors" >


                         <thead style="background-color: beige">

                         <tr>
                             <td class="mdl-data-table__cell--non-numeric">

                                 No

                             </td>

                             <td class="mdl-data-table__cell--non-numeric">

                                 Vendor Code



                             </td>
                             <td ng-click="sort('vendor_name')">

                                 Vendor Name



                             </td>
                             <td class="mdl-data-table__cell--non-numeric">

                                 Vendor Address



                             </td>
                             <td class="mdl-data-table__cell--non-numeric">

                                 Vendor Phone Number



                             </td>
                             <td class="mdl-data-table__cell--non-numeric">

                                 Contact Person  Number



                             </td>

                             <td class="mdl-data-table__cell--non-numeric">

                                 Edit

                             </td> <td  ng-if="!e">

                             X

                         </td>
                         </tr>
                         </thead>

                         <tbody>
                         <tr ng-repeat="vendor in vendors   |orderBy:sortKey:reverse  | filter:search track by $index">
                             <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                             <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_code }}</b>
                                 <h3 ng-if="e">

                                     <md-input-container class="md-block">
                                         <input type="text" disabled class="md-block" placeholder=" Vendor Code" ng-model="vendor.vendor_code">
                 </div>


                 </h3>
                 </td>
                 <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_name }}</b>
                     <h3 ng-if="e">

                         <md-input-container class="md-block">
                             <input type="text" class="md-block" placeholder=" Vendor Name" ng-model="vendor.vendor_name">
                         </md-input-container>


                     </h3>
                 </td>
                 <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_address }}</b>
                     <h3 ng-if="e">

                         <md-input-container class="md-block">
                             <input type="text" class="md-block" placeholder=" Vendor address" ng-model="vendor.vendor_address">
                         </md-input-container>


                     </h3>
                 </td>
                 <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_phone_number }}</b>
                     <h3 ng-if="e">

                         <md-input-container class="md-block">
                             <input type="text" class="md-block" placeholder=" Vendor phone number" ng-model="vendor.vendor_phone_number">
                         </md-input-container>


                     </h3>
                 </td>
                 <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ vendor.vendor_contact_person }}</b>
                     <h3 ng-if="e">

                         <md-input-container class="md-block">
                             <input type="text" class="md-block" placeholder=" vendor contact person" ng-model="vendor.vendor_contact_person">
                         </md-input-container>


                     </h3>
                 </td>


                 <td class="mdl-data-table__cell--non-numeric" ng-if="e">
                     <h3 >

                         <div class="md-block">


                             <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to Update This Record" ng-click="vendor_update(vendor)">Update</md-button>

                         </div>
                     </h3>
                     <!--<md-button class="btn btn-default" ng-click="edit(region.id)">Edit</md-button>-->




                 </td>
                 <td class="mdl-data-table__cell--non-numeric">
                     <input type="checkbox" class="btn btn-info" ng-model="e">Edit
                 </td><td class="mdl-data-table__cell--non-numeric"  ng-if="!e">
                 <md-button class="alert-danger" data-toggle="tooltip" title="Click to Delete from List" ng-click="vendor_delete(vendor.id)">Delete</md-button>
             </td>
                 <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                 </tr>
                 </tbody>

                 </table>


                 <dir-pagination-controls
                         max-size="5"
                         direction-links="true"
                         boundary-links="true"   >
                 </dir-pagination-controls>

             </div>
             </fieldset>
             </form>
         </div>
     </div>
     </div>


     <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


        </vertical-tab-pane>

<vertical-tab-pane title="INVOICES LIST">

    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




    <div >
        <div class="row">
            <div class="col-md-12 form-box">
                <form  >
                    <fieldset>

                        <div class="form-botton">

                            <b ng-if="!invoices" class="col-lg-12 md-raised md-primary">No invoice registered yet..</b>
                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp" width="100%" ng-if="invoices"  >


                                <thead style="background-color: beige">

                                <tr>
                                    <td class="mdl-data-table__cell--non-numeric">

                                        No

                                    </td>

                                    <td ng-click="sort('invoice_number')">

                                        Invoice Number



                                    </td>
                                    <td ng-click="sort('vendor_code')">

                                        Vendor Code



                                    </td>
                                    <td ng-click="sort('vendor_name')">

                                        Vendor Name



                                    </td>

                                    <td class="mdl-data-table__cell--non-numeric">

                                        Edit

                                    </td> <td  ng-if="!e">

                                    X

                                </td>
                                </tr>
                                </thead>

                                <tbody>
                                <tr ng-repeat="invoice in invoices  |orderBy:sortKey:reverse  | filter:search track by $index">
                                    <td class="mdl-data-table__cell--non-numeric">{{ $index+1 }}</td>

                                    <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ invoice.invoice_number }}</b>
                                        <h3 ng-if="e" class="no-print">

                                            <md-input-container class="md-block">
                                                <input type="text"  class="md-block" placeholder=" invoice Number" ng-model="invoice.invoice_number">
                                            </md-input-container>


                                        </h3>
                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ invoice.vendor_code }}</b>
                                        <h3 ng-if="e" class="no-print">

                                            {{ invoice.vendor_code}}


                                        </h3>
                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric"><b ng-if="!e">{{ invoice.vendor_name }}</b>
                                        <h3 ng-if="e" class="no-print">

                                            {{ invoice.vendor_name }}

                                        </h3>
                                    </td>



                                    <td ng-if="e">
                                        <h3 class="no-print" >

                                            <div class="md-block">


                                                <md-button class="md-raised md-primary" data-toggle="tooltip" title="Click to Update This Record" ng-click="invoice_update(invoice)">Update</md-button>

                                            </div>
                                        </h3>
                                        <!--<md-button class="btn btn-default" ng-click="edit(region.id)">Edit</md-button>-->




                                    </td>
                                    <td class="mdl-data-table__cell--non-numeric">
                                        <input type="checkbox" class="btn btn-info no-print" ng-model="e">Edit
                                    </td><td  ng-if="!e" >
                                    <md-button class="alert-danger no-print" data-toggle="tooltip" title="Click to Delete from List" ng-click="invoice_delete(invoice.id)">Delete</md-button>
                                </td>
                                    <!--<td class="mdl-data-table__cell--non-numeric">{{ region.tastiness }}</td>-->
                                </tr>
                                </tbody>

                            </table>

                            <dir-pagination-controls
                                    max-size="5"
                                    direction-links="true"
                                    boundary-links="true" >
                            </dir-pagination-controls>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>


    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->


</vertical-tab-pane>



        </vertical-tabs>

    </md-tab>



</md-tabs>
 
















