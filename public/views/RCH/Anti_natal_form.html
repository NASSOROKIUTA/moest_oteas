<style>
    label input[type=checkbox]:checked ~ span {



        background-size: 100%;
    }

    .typeahead-demo .custom-popup-wrapper {
        position: absolute;
        top: 100%;
        left: 0;
        z-index: 1000;
        display: none;
        background-color: #f9f9f9;
    }

    .typeahead-demo .custom-popup-wrapper > .message {
        padding: 10px 20px;
        border-bottom: 1px solid #ddd;
        color: #868686;
    }

    .typeahead-demo .custom-popup-wrapper > .dropdown-menu {
        position: static;
        float: none;
        display: block;
        min-width: 160px;
        background-color: transparent;
        border: none;
        border-radius: 0;
        box-shadow: none;


</style>
<div class="form-top" ng-if="selectedPatient.id">
    <div class="form-top-left">

        <b class="pull-right" ><span><i class="fa fa-list-o " aria-hidden="true" ></i></span><b> Name: {{selectedPatient.client_name}}   D.O.B: {{selectedPatient.dob}}  REG NO: {{selectedPatient.serial_no}}</b>
            <b ng-if="lnmp.week >0"style="color:#b2ff59" >[Pregnancy Age:  <b style="color:#b2ff59">{{lnmp.week}} week(s) {{lnmp.days}} Day(s)]</b></b>
            <i ng-if="!lnmp.week" > <b  style="color:#b2ff59">[Pregnancy Age:</b><strong style="color:crimson"> LNMP Not Set]</strong></i>
        </b>

    </div>
</div>
<script type="text/ng-template" id="customTemplate.html">
    <a>

        <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>
    </a>
</script>
<md-tabs md-dynamic-height md-border-bottom>


    <md-tab label="REGISTRATION">
    <md-content class='md-padding'>
        <md-input-container class="md-block ">
            <input type="text"  class="md-block"  typeahead-on-select="LNMP(selectedPatient.id) " ng-model="selectedPatient"   placeholder="Search Client here" uib-typeahead ="patient as patient.client_name+' '+patient.serial_no  for patient in showSearch($viewValue) | filter:$viewValue">


        </md-input-container>
        <p></p>
        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




        <div class="">
            <div class="row">
                <div class="col-md-12 form-box">
                    <form   >
                        <fieldset>

                            <div class="form-bottom">
                                <div class="row">
                                    <md-input-container class="md-block col-md-3 col-sm-3">
                                        <label>First Name </label>
                                        <input type="text" ng-model="patient.first_name" class="md-block"   id="fname" required>
                                    </md-input-container>
                                    <md-input-container class="md-block col-md-3 col-sm-3">
                                        <label>Middle Name </label>
                                        <input type="text" ng-model="patient.middle_name" class="md-block"   id="mname" required>
                                    </md-input-container>
                                    <md-input-container class="md-block col-md-3 col-sm-3">
                                        <label>Last Name </label>
                                        <input type="text" ng-model="patient.last_name" class="md-block" id="lname" required>
                                    </md-input-container>

                                    <md-input-container class="md-block col-md-3 col-sm-3">
                                        <label>Gender </label>
                                        <md-select ng-model="patient.gender" class="md-block" id="gender" required>
                                            <md-option value="" >Please select gender</md-option>
                                            <md-option value="Male">Male</md-option>
                                            <md-option value="Female">Female</md-option>
                                        </md-select>
                                    </md-input-container>
                                </div>

                                <div class="row">

                                    <md-input-container class="md-block col-md-4 col-sm-4" flex-gt-sm >
                                        <label>Date of birth</label>
                                        <md-datepicker md-hide-icons="calendar" md-open-on-focus ng-model="patient.dob" ng-Blur="calculateAge(patient,'date')"></md-datepicker>

                                    </md-input-container>
                                    <md-input-container class="md-block col-md-4 col-sm-4" flex-gt-sm  >
                                        <label>Age</label>
                                        <input type="number" min='0' ng-model="patient.age" ng-Blur="calculateAge(patient,'age')">
                                    </md-input-container>
                                    <md-input-container flex-gt-sm  class="md-block col-md-4 col-sm-4">
                                        <label>Unit</label>
                                        <md-select ng-model="patient.age_unit" ng-Change="calculateAge(patient,'age_unit')">
                                            <md-option value="Years" selected="selected">Year(s)</md-option>
                                            <md-option value="Months">Month(s)</md-option>
                                            <md-option value="Days">Day(s)</md-option>
                                        </md-select>
                                    </md-input-container>



                                    <md-input-container class="md-block col-md-12 col-sm-4">


                                        <md-autocomplete flex  flex
                                                         md-search-text="search"
                                                         md-input-name="patient"
                                                         md-no-cache="false"
                                                         md-items="item in getResidence(search)"
                                                         md-item-text="item.residence_name+' '+item.council_name"
                                                         md-selected-item-change="selectedResidence(item)"
                                                         md-floating-label="Search Residence"
                                                         md-min-length="3" md-autofocus>
                                            <md-item-template>
                                                <span md-highlight-text="searchText">{{item.residence_name}} {{item.council_name}}</span>
                                            </md-item-template>
                                        </md-autocomplete>
                                   </md-input-container>

                                    <md-input-container class="md-block col-md-4 col-sm-4">
                                        <label>Education:</label>
                                        <md-select ng-model="patient.education" class="md-block" >
                                            <md-option value="" >Please select Education Level</md-option>
                                            <md-option value="None" >None</md-option>
                                            <md-option value="Primary" >Primary</md-option>
                                            <md-option value="Secondary"  >Secondary</md-option>
                                            <md-option value="College"  >College</md-option>
                                            <md-option value="University"  >University</md-option>
                                        </md-select>
                                    </md-input-container>
                                    <md-input-container class="md-block col-md-4 col-sm-4">
                                        <label>Occupation </label>
                                        <input type="text" ng-model="patient.occupation" class="md-block"
                                               uib-typeahead ="occupation as occupation.occupation_name for occupation in showSearchOccupation($viewValue) | filter:$viewValue"
                                        >
                                    </md-input-container>
                                    <md-input-container class="md-block col-md-4 col-sm-4">
                                        <label>Mobile Number:(<i>Optional</i>)</label>
                                        <input id="mobile_number" type="text"  ng-model="patient.mobile_number" class="md-block" >
                                    </md-input-container>
                                    <md-input-container class="md-block col-md-6 col-sm-6">
                                        <label>Voucher Number:(<i>Optional</i>)</label>
                                        <input   type="text"  ng-model="patient.voucher_no" class="md-block"  >
                                    </md-input-container>

                                    <md-input-container class="md-block col-md-6 col-sm-6">
                                        <label>Height: </label>
                                        <input   type="text"  ng-model="patient.height" class="md-block"  >
                                    </md-input-container>


                                </div>

                            </div>

                            <div class="form-top">
                                <div class="form-top-left">
                                    <h4><span><i class="fa fa-user" aria-hidden="true"></i></span> Partner Information</h4>

                                </div>
                            </div>
                            <div class="form-bottom">
                                <div class="row">


                                    <md-input-container class="md-block col-md-6 col-sm-6">
                                        <label> Name </label>
                                        <input type="text" ng-model="patient.partner_name"   class="md-block"  >
                                    </md-input-container>


                                    <md-input-container class="md-block col-md-6 col-sm-6">
                                        <label>Occupation </label>
                                        <input type="text" ng-model="patient.occupation1" class="md-block"
                                               uib-typeahead ="occupation as occupation.occupation_name for occupation in showSearchOccupation($viewValue) | filter:$viewValue"
                                        >
                                  </md-input-container>
                                    <md-input-container class="md-block col-md-4 col-sm-4" flex-gt-sm >
                                        <label>Date of birth</label>
                                        <md-datepicker md-hide-icons="calendar" md-open-on-focus ng-model="patient.dob1" ng-Blur="partiner_calculateAge(patient,'date')"></md-datepicker>

                                    </md-input-container>
                                    <md-input-container class="md-block col-md-4 col-sm-4" flex-gt-sm  >
                                        <label>Age</label>
                                        <input type="number" min='0' ng-model="patient.age1" ng-Blur="partiner_calculateAge(patient,'age1')">
                                    </md-input-container>
                                    <md-input-container flex-gt-sm  class="md-block col-md-4 col-sm-4">
                                        <label>Unit</label>
                                        <md-select ng-model="patient.age_unit1" ng-Change="partiner_calculateAge(patient,'age_unit1')">
                                            <md-option value="Years" selected="selected">Year(s)</md-option>
                                            <md-option value="Months">Month(s)</md-option>
                                            <md-option value="Days">Day(s)</md-option>
                                        </md-select>
                                    </md-input-container>

                                    <md-input-container class="md-block col-md-6 col-sm-6">
                                        <label>Education:</label>
                                        <md-select ng-model="patient.education1"   >
                                            <md-option value="" >Please select Education Level</md-option>
                                            <md-option value="None" >None</md-option>
                                            <md-option value="Primary" >Primary</md-option>
                                            <md-option value="Secondary"  >Secondary</md-option>
                                            <md-option value="College"  >College</md-option>
                                            <md-option value="University"  >University</md-option>
                                        </md-select>
                                    </md-input-container>



                                    <md-button   type="submit" class="md-raised md-primary" ng-click="anti_natal_registration(patient)"> Register </md-button>

                                </div>


</div>
                            </fieldset>
                        </form>


                </div>
            </div>
        </div>


        <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





    </md-content>
</md-tab>


    <md-tab label="PREGNANCY">
        <md-content class='md-padding'>
            <md-input-container class="md-block ">
                <input type="text"  class="md-block"  typeahead-on-select="LNMP(selectedPatient.id) " ng-model="selectedPatient"   placeholder="Search Client here" uib-typeahead ="patient as patient.client_name+' '+patient.serial_no  for patient in showSearch($viewValue) | filter:$viewValue">


            </md-input-container>
            <p></p>
            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="PREVIOUS PREGNANCY DETAILS">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>
                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >

                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Number of pregnancy</label>
                                                        <input type="text" class="md-block" ng-model="prev_preg_info.number_of_pregnancy"  >

</md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Number of delivery</label>
                                                        <input type="text" class="md-block" ng-model="prev_preg_info.number_of_delivery" >
</md-input-container>
                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Number of alive children</label>
                                                        <input type="text" class="md-block" ng-model="prev_preg_info.number_alive_children" >

</md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Number Miscarriage</label>
                                                        <input type="text" class="md-block" ng-model="prev_preg_info.number_of_miscarriage" >

</md-input-container>
                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >
                                                        <label> LNMP</label>

                                                        <input type="text" class="md-block" datetime-picker date-only date-format="yyyy-MM-dd" ng-model="prev_preg_info.lnmp" >

                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> YEAR</label>
                                                        <input type="text" class="md-block" ng-model="prev_preg_info.year" >
</md-input-container>

                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> EDD</label>
                                                        <input type="text" class="md-block" datetime-picker date-only date-format="yyyy-MM-dd" ng-model="prev_preg_info.edd" >

</md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >
                                                        <label> Delivery Place</label>
                                                        <input type="text"  class="md-block input-lg "  typeahead-on-select=" " ng-model="prev_preg_info.delivery_place"     uib-typeahead ="facility as facility.facility_name   for facility in facility | filter:$viewValue">


                                                    </md-input-container>
                                                </div>


                                                <md-input-container class="md-block  col-md-8 col-sm-4" >

                                                    <md-button class="md-raised md-primary" ng-click="prev_preg_info_registration(prev_preg_info,selectedPatient.id)" >Register</md-button>

                                               </md-input-container>

                                            </div>


                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



                </collapsible-item>
            </ang-accordion>

            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="PREVIOUS PREGNANCY INDICATORS">

                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>
                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >

                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Mimba ya kwanza Zaidi ya miaka 35</label>
                                                        <md-select ng-model="prev_preg_indicator.fp_35_years_n_above" class="md-block" >

                                                            <md-option value="YES" >YES</md-option>
                                                            <md-option value="NO" >NO</md-option>
                                                        </md-select>


                                                   </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Mimba ya mwisho Zaidi ya miaka 10</label>
                                                        <md-select ng-model="prev_preg_indicator.lp_10_years_n_above" class="md-block" >

                                                            <md-option value="YES" >YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>

                                                    </md-input-container>
                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Njia ya kujifungua </label>

                                                        <md-select ng-model="prev_preg_indicator.delivery_method" class="md-block" >
                                                            <md-option value="Scisorian Section" >Scisorian Section</md-option>
                                                            <md-option value="Scisorian Section">Vacum</md-option>
                                                            <md-option value="Scisorian Section">Normal</md-option>
                                                        </md-select>


                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Kuzaa mtoto Mfu au Kifo cha mtoto mchanga </label>

                                                        <md-select ng-model="prev_preg_indicator.fbs_msb" class="md-block" >
                                                            <md-option value="none" >none</md-option>
                                                            <md-option value="fbs"value="fbs" >fbs</md-option>
                                                            <md-option value="msb"value="msb" >msb</md-option>

                                                        </md-select>


                                                    </md-input-container>

                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Kuharibika kwa mimba tatu au zaidi </label>

                                                        <md-select ng-model="prev_preg_indicator.miscarriage_three_plus" class="md-block" >

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>

                                                        </md-select>


                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Ugonjwa wa Moyo  </label>

                                                        <md-select ng-model="prev_preg_indicator.heart_disease " class="md-block" >

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>


                                                    </md-input-container>

                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Kisukari </label>

                                                        <md-select ng-model="prev_preg_indicator.diabetic" class="md-block" >

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>

                                                        </md-select>


                                                   </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Kifua Kikuu </label>

                                                        <md-select ng-model="prev_preg_indicator.tb" class="md-block" >

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>


                                                   </md-input-container>

                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Ulemavu wa Nyonga  </label>

                                                        <md-select ng-model="prev_preg_indicator.waist_disability" class="md-block" >
                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>

                                                        </md-select>


                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Kutoka Damu Nyingi wakati wa kujifungua  </label>

                                                        <md-select ng-model="prev_preg_indicator.high_bleeding" class="md-block" >

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>


                                                    </md-input-container>

                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Kondo la Nyuma Kukwama  </label>

                                                        <md-select ng-model="prev_preg_indicator.placenta_stacked " class="md-block" >
                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>


                                                    </md-input-container>

                                                </div>



                                                <div class="md-block  col-md-8 col-sm-4" >

                                                    <md-button class="md-raised md-primary" ng-click="prev_preg_info_indicator(prev_preg_indicator,selectedPatient.id)" >Register </md-button>

                                                </div>

                                            </div>


                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





                </collapsible-item>
            </ang-accordion>



        </md-content>
    </md-tab>

    <md-tab label="VACCINATIONS">
        <md-content class='md-padding'>
            <md-input-container class="md-block ">
                <input type="text"  class="md-block"  typeahead-on-select="LNMP(selectedPatient.id) " ng-model="selectedPatient"   placeholder="Search Client here" uib-typeahead ="patient as patient.client_name+' '+patient.serial_no  for patient in showSearch($viewValue) | filter:$viewValue">


            </md-input-container>
            <p></p>
            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="TT VACCINATION">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>

                                            <div class="row col-md-12" ng-if="selectedPatient.id">

                                                <md-input-container class="md-block  col-md-6 col-sm-4">
                                                    <label> Vaccination Name</label>
                                                    <input type="text" class="md-block" uib-typeahead ="vaccination as vaccination.vaccination_name for vaccination in vaccinations | filter:$viewValue" placeholder="Enter  Vaccination name" ng-model="tt_vaccine.vaccination_id" typeahead-template-url="customTemplate.html"
                                                           class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


</md-input-container>
                                                <md-input-container class="md-block  col-md-6 col-sm-4" ng-if="tt_vaccine.vaccination_id.vaccination_name">
                                                    <label> Date of &nbsp;{{tt_vaccine.vaccination_id.vaccination_name}}</label>
                                                    <input type="text" ng-model="tt_vaccine.vaccination_date" class="md-block" datetime-picker date-only date-format="yyyy-MM-dd"  placeholder="Date of {{tt_vaccine.vaccination_id.vaccination_name}} like 2000-01-31">


                                               </md-input-container>
                                                <md-input-container class="md-block  col-md-6 col-sm-4" ng-if="tt_vaccine.vaccination_id.vaccination_name">
                                                    <label> Has Card ?</label>
                                                    <md-select ng-model="tt_vaccine.has_card" class="md-block">
                                                        <md-option selected disabled value>----options-----</md-option>
                                                        <md-option value="YES">YES</md-option>
                                                        <md-option value="NO">NO</md-option>

                                                    </md-select>


                                                </md-input-container>

                                                <div class="md-block  col-md-6 col-sm-4" ng-if="tt_vaccine.vaccination_id.vaccination_name">

                                                    <md-button class="md-raised md-primary" ng-click="tt_vaccination_registration(tt_vaccine,selectedPatient.id)" >Register </md-button>

                                                </div>

                                            </div>

                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                </collapsible-item>
            </ang-accordion>

            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="IPT VACCINATION">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>

                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> IPT</label>

                                                        <md-select ng-model="ipt.ipt" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value=""></md-option>
                                                            <md-option value="IPT-1" >IPT-1</md-option>
                                                            <md-option value="IPT-2" >IPT-2</md-option>
                                                            <md-option value="IPT-3" >IPT-3</md-option>
                                                            <md-option value="IPT-4" >IPT-4</md-option>


                                                        </md-select>
                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  ng-if="ipt.ipt" >

                                                        <input ng-model="ipt.ipt_date" class="md-block" datetime-picker date-only date-format="yyyy-MM-dd"  placeholder="Enter date for {{ipt.ipt}} in format(yyy-mm-dd)">

                                                    </md-input-container>
                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >


                                                    </md-input-container>



                                                    <div class="md-block  col-md-6 col-sm-4"  >
                                                        <md-button class="md-raised md-primary" ng-click="ipt_registration(ipt,selectedPatient.id)" >Register </md-button>

                                                    </div>
                                                </div>

                                            </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->






                </collapsible-item>
                </ang-accordion>

                <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="VACCINATION REGISTER">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">



                                            <div class="row col-md-12">

                                                <md-input-container class="md-block  col-md-4 col-sm-4">
                                                    <label> Vaccination Name</label>
                                                    <input type="text" class="md-block" placeholder="Enter  Vaccination name" ng-model="vaccine.vaccination_name">

</md-input-container>
                                                <md-input-container class="md-block  col-md-4 col-sm-4">

                                                    <input type="number" min="0"   class="md-block" placeholder="Enter  Vaccination Dose example dose 0 or 1" ng-model="vaccine.dose">



                                               </md-input-container>
                                                <md-input-container class="md-block  col-md-4 col-sm-4">
                                                    <label> Vaccination Type For</label>
                                                    <md-select ng-model="vaccine.vaccination_type" class="md-block">
                                                        <md-option selected disabled value>----options-----</md-option>
                                                        <md-option value="children">children</md-option>
                                                        <md-option value="aged">aged</md-option>
                                                        <md-option value="all">all</md-option>
                                                    </md-select>


                                               </md-input-container>

                                                <div class="md-block  col-md-6 col-sm-4">

                                                    <md-button class="md-raised md-primary" ng-click="vaccination_registration(vaccine)" >Register </md-button>

                                                </div>


                                            </div>

                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





                </collapsible-item>
            </ang-accordion>



        </md-content>
    </md-tab>

    <md-tab label="INVESTIGATIONS">
        <md-content class='md-padding'>
            <md-input-container class="md-block ">
                <input type="text"  class="md-block"  typeahead-on-select="LNMP(selectedPatient.id) " ng-model="selectedPatient"   placeholder="Search Client here" uib-typeahead ="patient as patient.client_name+' '+patient.serial_no  for patient in showSearch($viewValue) | filter:$viewValue">


            </md-input-container>
            <p></p>
            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="MOTHER LAB RESULTS">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>

                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >

                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Blood group</label>
                                                        <input type="text" class="md-block" ng-model="lab_result.blood_group" >



                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Rhesus(Rh)</label>
                                                        <input type="text" class="md-block" ng-model="lab_result.rh" >



                                                 </md-input-container>
                                                </div>
                                                <div class="row col-md-12" >

                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> VDRL/RPR</label>
                                                        <input type="text" class="md-block" ng-model="lab_result.vdrl_rpr" >

</md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> PMTCT</label>
                                                        <md-select ng-model="lab_result.pmtct" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="0">PMTCT 0</md-option>
                                                            <md-option value="1">PMTCT 1</md-option>
                                                            <md-option value="1N">PMTCT 1N</md-option>
                                                            <md-option value="IEC">PMTCT IEC</md-option>

                                                        </md-select>

                                                  </md-input-container>
                                                </div>
                                                <div class="row col-md-12" >

                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> MRDT/BS</label>

                                                        <md-select ng-model="lab_result.mrdt_bs" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="MRDT">MRDT</md-option>
                                                            <md-option value="BS">BS</md-option>


                                                        </md-select>

                                                   </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4" ng-if="lab_result.mrdt_bs">
                                                        <label>Enter Results For {{lab_result.mrdt_bs}}</label>
                                                        <input type="text" class="md-block" ng-model="lab_result.result"  >

                                                    </md-input-container>

                                                </div>


                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Other_test</label>
                                                        <input type="text" class="md-block" ng-model="lab_result.other_test"  >

                                                    </md-input-container>

                                                    <div class="md-block  col-md-6 col-sm-4" >

                                                        <md-button class="md-raised md-primary" ng-click="anti_natal_lab_results(lab_result,selectedPatient.id)" >Register </md-button>

                                                    </div>
                                                </div>




                                            </div>

                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





                </collapsible-item>
            </ang-accordion>

            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="PARTNER LAB RESULTS">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>

                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >

                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Blood group</label>
                                                        <input type="text" class="md-block" ng-model="p_lab_result.blood_group"  >
</md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Rhesus(Rh)</label>
                                                        <input type="text" class="md-block" ng-model="p_lab_result.rh" >

</md-input-container>
                                                </div>
                                                <div class="row col-md-12" >

                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> VDRL/RPR</label>
                                                        <input type="text" class="md-block" ng-model="p_lab_result.vdrl_rpr">


</md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> PMTCT</label>
                                                        <md-select ng-model="p_lab_result.pmtct" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="0">PMTCT 0</md-option>
                                                            <md-option value="1">PMTCT 1</md-option>
                                                            <md-option value="1N">PMTCT 1N</md-option>
                                                            <md-option value="IEC">PMTCT IEC</md-option>

                                                        </md-select>

                                                   </md-input-container>
                                                </div>



                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Other_test</label>
                                                        <input type="text" class="md-block" ng-model="p_lab_result.other_test" >

                                                    </md-input-container>

                                                    <div class="md-block  col-md-6 col-sm-4" >

                                                        <md-button class="md-raised md-primary" ng-click="partner_lab_results(p_lab_result,selectedPatient.id)" >Register </md-button>

                                                    </div>
                                                </div>




                                            </div>

                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



                </collapsible-item>
                </ang-accordion>





        </md-content>
    </md-tab>


    <md-tab label="ATTENDANCE">
        <md-content class='md-padding'>
            <md-input-container class="md-block ">
                <input type="text"  class="md-block"  typeahead-on-select="LNMP(selectedPatient.id) " ng-model="selectedPatient"   placeholder="Search Client here" uib-typeahead ="patient as patient.client_name+' '+patient.serial_no  for patient in showSearch($viewValue) | filter:$viewValue">


            </md-input-container>
            <p></p>
            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="CHECKUP">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>

                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">


                                                        <input ng-model="attend.weight" class="md-block" placeholder="Enter Body Weight ">

                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">


                                                        <input ng-model="attend.bp" class="md-block" placeholder="Enter BP ">

                                                   </md-input-container>

                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">

                                                        <input ng-model="attend.hb" class="md-block" placeholder="Enter HB ">

                                                   </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">


                                                        <input ng-model="attend.urine_albumin" class="md-block" placeholder="Enter Urine albumin ">

                                                   </md-input-container>

                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">


                                                        <input ng-model="attend.urine_sugar" class="md-block" placeholder="Enter Urine sugar ">

                                                   </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">


                                                        <input ng-model="attend.pregnancy_height" class="md-block" placeholder="Enter Pregnancy height ">

                                                   </md-input-container>
                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">


                                                        <input ng-model="attend.baby_position" class="md-block" placeholder="Enter Baby position ">

                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">

                                                        <input ng-model="attend.baby_pointer" class="md-block" placeholder="Enter Baby pointer ">

                                                   </md-input-container>

                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Mtoto Anacheza?</label>

                                                        <md-select ng-model="attend.baby_play" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>



                                                        </md-select>
                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Mapigo ya Moyo Wa mtoto Yapo?</label>

                                                        <md-select ng-model="attend.baby_heart_beat" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>



                                                        </md-select>
                                                    </md-input-container>


                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4" title="Kuvimba Miguu/Uso/Mikono">
                                                        <label>Kuvimba Miguu/Uso/Mikono</label>

                                                        <md-select ng-model="attend.oedema" class="md-block" >
                                                            <md-option selected disabled value>----options-----</md-option>

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>


                                                        </md-select>
                                                  </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4" title="Mapacha">
                                                        <label>Twins</label>

                                                        <md-select ng-model="attend.twins" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>

                                                        </md-select>
                                                    </md-input-container>


                                                </div>

                                                <div class="row col-md-12" >




                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >

                                                        <input type="text" ng-model="attend.date_attended" class="md-block" datetime-picker date-only date-format="yyyy-MM-dd"  placeholder=" Attended date">

                                                   </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >

                                                        <input type="text" ng-model="attend.followup_date" class="md-block" datetime-picker date-only date-format="yyyy-MM-dd"  placeholder=" Followup date">

                                                   </md-input-container>


                                                    <div class="md-block  col-md-6 col-sm-4"  >
                                                        <md-button class="md-raised md-primary" ng-click="reattendance_registration(attend,selectedPatient.id)" >Register </md-button>

                                                    </div>
                                                </div>

                                            </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                </collapsible-item>
            </ang-accordion>

            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="ADDITIONAL DRUGS">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>

                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Ferrous sulphate</label>

                                                        <md-select ng-model="prevent.ferrous_sulphate" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>


                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                            <md-option value="OS">OS</md-option>

                                                        </md-select>
                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Folic Acid</label>

                                                        <md-select ng-model="prevent.folic_acid" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>


                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                            <md-option value="OS">OS</md-option>

                                                        </md-select>
                                                    </md-input-container>

                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Amepewa Dawa ya Minyoo </label>

                                                        <md-select ng-model="prevent.deworm" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>


                                                            <md-option value=""> </md-option>
                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                            <md-option value="OS">OS</md-option>

                                                        </md-select>
                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Amepewa dawa ya kujikinga na Malaria</label>

                                                        <md-select ng-model="prevent.malaria" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>


                                                            <md-option value=""></md-option>
                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                            <md-option value="OS">OS</md-option>

                                                        </md-select>
                                                    </md-input-container>

                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >

                                                        <input type="text" ng-model="prevent.date_attended" class="md-block" datetime-picker date-only date-format="yyyy-MM-dd"  placeholder=" Attended date">

                                                    </md-input-container>



                                                    <div class="md-block  col-md-6 col-sm-4"  >
                                                        <md-button class="md-raised md-primary" ng-click="preventives_registration(prevent,selectedPatient.id)" >Register </md-button>

                                                    </div>
                                                </div>

                                            </div>
                                   </div>
                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                        </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





                </collapsible-item>
            </ang-accordion>
 <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="COUNSELLING AREAS">

                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>

                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">

                                                        <input type="text" class="md-block" uib-typeahead ="counseling as counseling.description for counseling in counselings | filter:$viewValue" placeholder="Choose Conselling area name" ng-model="counselling.description_id" typeahead-template-url="customTemplate.html"
                                                               class="md-block" typeahead-show-hint="true" typeahead-min-length="0">


</md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Given</label>

                                                        <md-select ng-model="counselling.status" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>

                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>

                                                        </md-select>
                                                    </md-input-container>
                                                    <md-button class="md-raised md-primary" ng-click="Add_counsel(counselling,selectedPatient.id)" >Add To List </md-button>

                                                    <div  ng-if="counseling_givens.length>0">
                                                        <hr>
                                                        <table class=" table table-bordered"  >
                                                            <tr>
                                                                <th>Counseling</th>
                                                                <th>Given</th>
                                                            </tr>
                                                            <tr ng-repeat="status in counseling_givens">
                                                                <td>{{status.description}}</td>
                                                                <td>{{status.status}}</td>
                                                                <td><md-button ng-click="removeIT($index)">X </md-button></td>
                                                            </tr>
                                                        </table>

                                                        <div class="row col-md-12" >

                                                            <div class="md-block  col-md-6 col-sm-4"  >
                                                                <md-button class="md-raised md-primary" ng-click="counselling_registration(counsel,selectedPatient.id)" >Register </md-button>

                                                            </div>
                                                        </div>
                                                    </div>



                                                </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





                </collapsible-item>
            </ang-accordion>
            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="PARTNER COUNSELLING">

                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>
                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> VVU Infection</label>
                                                        <md-select ng-model="pmtct.vvu_infection" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>

                                                  </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Has Given Counselling</label>
                                                        <md-select ng-model="pmtct.has_counsel_given" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>

                                                    </md-input-container>
                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Counselling date</label>
                                                        <input ng-model="pmtct.counselling_date" class="md-block" placeholder="yy-mm-dd"  datetime-picker date-only date-format="yyyy-MM-dd">
</md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Has Taken VVU Test</label>

                                                        <md-select ng-model="pmtct.has_taken_vvu_test" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>

</md-input-container>
                                                </div>
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Date Of VVU Test Taken</label>

                                                        <input ng-model="pmtct.date_of_test_taken" class="md-block"  datetime-picker date-only date-format="yyyy-MM-dd">

                                                    </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >
                                                        <label> VVU First Test Result</label>
                                                        <md-select ng-model="pmtct.vvu_first_test_result" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="POSITIVE">POSITIVE</md-option>
                                                            <md-option value="NEGATIVE">NEGATIVE</md-option>

                                                        </md-select>

</md-input-container>
                                                </div>
                                                <div class="row col-md-12" >

                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >
                                                        <label> Counselling After VVU Test</label>
                                                        <md-select ng-model="pmtct.counselling_after_vvu_test" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="YES">YES</md-option>
                                                            <md-option value="NO">NO</md-option>
                                                        </md-select>

                                                   </md-input-container>
                                                    <md-input-container class="md-block  col-md-6 col-sm-4" >
                                                        <label> VVU Second Test Result</label>
                                                        <md-select ng-model="pmtct.vvu_second_test_result" class="md-block">
                                                            <md-option selected disabled value>----options-----</md-option>
                                                            <md-option value="POSITIVE">POSITIVE</md-option>
                                                            <md-option value="NEGATIVE">NEGATIVE</md-option>

                                                        </md-select>

                                                   </md-input-container>
                                                </div>
                                                <div class="row col-md-12" >




                                                    <div class="md-block  col-md-6 col-sm-4"  >
                                                        <md-button class="md-raised md-primary" ng-click="pmtct_partner_registration(pmtct,selectedPatient.id)" >Register </md-button>

                                                    </div>
                                                </div>






                                            </div>


                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                </collapsible-item>
            </ang-accordion>
            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="COUNSELLING AREAS REGISTER">

                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">



                                            <div  >
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label>Counselling Area Name</label>

                                                        <input type="text" ng-model="counselling.description" class="md-block">
                                                   </md-input-container>


                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >


                                                   </md-input-container>



                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  >
                                                        <md-button class="md-raised md-primary" ng-click="counselling_area_registration(counselling)" >Register </md-button>

                                                    </md-input-container>

                                                    <table class=" table table-bordered">
                                                        <tr>
                                                            <th>DESCRIPTION</th>
                                                        </tr>
                                                        <tr ng-repeat="counseling in counselings">
                                                            <td>{{counseling.description}}</td>
                                                        </tr>
                                                    </table>
                                                </div>

                                            </div>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->





                </collapsible-item>
            </ang-accordion>




        </md-content>
    </md-tab>


    <md-tab label="RECOMMENDATIONS">
        <md-content class='md-padding'>
            <md-input-container class="md-block ">
                <input type="text"  class="md-block"  typeahead-on-select="LNMP(selectedPatient.id) " ng-model="selectedPatient"   placeholder="Search Client here" uib-typeahead ="patient as patient.client_name+' '+patient.serial_no  for patient in showSearch($viewValue) | filter:$viewValue">


            </md-input-container>
            <p></p>
            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




            <div class="">
                <div class="row">
                    <div class="col-md-12 form-box">
                        <form  >
                            <fieldset>

                                <div class="">

                                    <div ng-if="!selectedPatient.id">
                                        <h1> Choose client from search box above to continue </h1>
                                    </div>
                                    <div  ng-if="selectedPatient.id">
                                        <div class="row col-md-12" >
                                            <md-input-container class="md-block  col-md-6 col-sm-4">


                                                                                                            <textarea ng-model="opt.opinion" cols="5" rows="2" md-maxlength="250" class="md-block" placeholder="Write your Recommendations or Opinions or Views Here">

                                                                                                            </textarea>

                                           </md-input-container>
                                            <div class="md-block  col-md-6 col-sm-4">
                                                <md-button class="md-raised md-primary" ng-click="RCH_recommendations_registration(opt,selectedPatient.id)" >Register </md-button>


                                            </div>
                                        </div>


                                    </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>


            <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->








        </md-content>
    </md-tab>


    <md-tab label="TRANSFER">
        <md-content class='md-padding'>
            <md-input-container class="md-block ">
                <input type="text"  class="md-block"  typeahead-on-select="LNMP(selectedPatient.id) " ng-model="selectedPatient"   placeholder="Search Client here" uib-typeahead ="patient as patient.client_name+' '+patient.serial_no  for patient in showSearch($viewValue) | filter:$viewValue">


            </md-input-container>
            <p></p>
            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="INCOMING TRANSFER">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->







                    <div class="form-bottom">
                        <div class="row">


                            <div ng-repeat="pt in resdatas">
                                <div class="chip col-md-3" title="{{pt.first_name | uppercase}} {{pt.medical_record_number | uppercase}}" >
                                    <div  class="row">

                                        <a href=""  ng-click="Anti_natal_in_referral(pt)">
                                            <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">{{pt.first_name | limitTo: 1 }}</span>
                                            <span class="mdl-chip__text" >{{pt.first_name | uppercase}}&nbsp;&nbsp;&nbsp;{{pt.middle_name | uppercase}}&nbsp;&nbsp;&nbsp;{{pt.last_name | uppercase}} </span>
                                            <a  class="mdl-chip__action"></a>
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </div>


                    </div>
                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->



                </collapsible-item>
            </ang-accordion>
            <ang-accordion close-icon-url="/svg/chevron-sign-to-right.svg" open-icon-url="/svg/chevron-sign-down.svg">
                <collapsible-item item-title="OUTGOING TRANSFER">


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->






                    <div class="">
                        <div class="row">
                            <div class="col-md-12 form-box">
                                <form  >
                                    <fieldset>

                                        <div class="">

                                            <div ng-if="!selectedPatient.id">
                                                <h1> Choose client from search box above to continue </h1>
                                            </div>
                                            <div  ng-if="selectedPatient.id">
                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4">
                                                        <label> Transferring to</label>



                                                        <md-select type="text" ng-model="ref.referral_id" ng-change="Consultation(ref.referral_id)">
                                                            <md-option value="">----option----</md-option>
                                                            <md-option  value="{{department.id}}"
                                                                        ng-repeat="department in departments">
                                                                {{department.department_name}}
                                                            </md-option>


                                                        </md-select>

                                                    </md-input-container>
                                                    <md-input-container class="form-group col-md-6 col-sm-4">
                                                        <label> Consultation</label>
                                                        <md-select type="text" ng-model="ref.consultation" >

                                                            <md-option   ng-value="{{item}}"
                                                                         ng-repeat="item in consultations">
                                                                {{item.item_name}}
                                                            </md-option>


                                                        </md-select>

                                                    </md-input-container>


                                                </div>

                                                <div class="row col-md-12" >
                                                    <md-input-container class="md-block  col-md-6 col-sm-4"  ng-if="ref.referral_id" >
                                                                                                            <textarea ng-model="ref.reason" md-maxlength="250" cols="5" placeholder="Enter reasons for  referring    {{selectedPatient.client_name}}  "  rows="5" class="md-block">

                                                                                                            </textarea>

                                                    </md-input-container>



                                                    <div class="md-block  col-md-6 col-sm-4"  >
                                                        <md-button class="md-raised md-primary" ng-click="child_referral_registration(ref,selectedPatient.id,selectedPatient.id)" >Register </md-button>

                                                    </div>
                                                </div>



                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>


                    <!--//&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; -->




                </collapsible-item>
            </ang-accordion>




        </md-content>
    </md-tab>
    </md-tabs>





<script type="text/javascript">
    $(document).ready(function () {
        $('.registration-form fieldset:first-child').fadeIn('slow');

        $('.registration-form input[type="text"]').on('focus', function () {
            $(this).removeClass('input-error');
        });

        // next step
        $('.registration-form .btn-next').on('click', function () {
            var parent_fieldset = $(this).parents('fieldset');
            var next_step = true;

            parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
                if ($(this).val() == "") {
                    $(this).addClass('input-error');
                    next_step = false;
                } else {
                    $(this).removeClass('input-error');
                }
            });

            if (next_step) {
                parent_fieldset.fadeOut(400, function () {
                    $(this).next().fadeIn();
                });
            }

        });

        // previous step
        $('.registration-form .btn-previous').on('click', function () {
            $(this).parents('fieldset').fadeOut(400, function () {
                $(this).prev().fadeIn();
            });
        });

        // submit
        $('.registration-form').on('submit', function (e) {

            $(this).find('input[type="text"],input[type="email"]').each(function () {
                if ($(this).val() == "") {
                    e.preventDefault();
                    $(this).addClass('input-error');
                } else {
                    $(this).removeClass('input-error');
                }
            });

        });


    });
</script>


<script type="text/javascript">

    $(document).ready(function () {
        $('.registration-form fieldset:first-child').fadeIn('slow');

        $('.registration-form input[type="text"]').on('focus', function () {
            $(this).removeClass('input-error');
        });

        // next step
        $('.registration-form .btn-next').on('click', function () {
            var parent_fieldset = $(this).parents('fieldset');
            var next_step = true;

            parent_fieldset.find('#fname,#mname,#lname,#residence,#dob,#gender').each(function () {
                if ($(this).val() == "") {
                    $(this).addClass('input-error');
                    sweetAlert("Please fill  All fields as it was marked in Red before Next Step", "", "error");
                    next_step = false;
                } else {
                    $(this).removeClass('input-error');
                }
            });

            if (next_step) {
                parent_fieldset.fadeOut(400, function () {
                    $(this).next().fadeIn();
                });
            }

        });

        // previous step
        $('.registration-form .btn-previous').on('click', function () {
            $(this).parents('fieldset').fadeOut(400, function () {
                $(this).prev().fadeIn();
            });
        });

        // submit
        $('.registration-form .full').on('submit', function (e) {

            $(this).find('#Marital,#Occupation,#Tribe,#Country,#next_kin_name,#next_kin_residence,#Relationship').each(function () {
                if ($(this).val() == "") {
                    sweetAlert("Please fill  All fields as it was marked in Red before Submit", "", "error");
                    //e.preventDefault();
                    $(this).addClass('input-error');
                } else {
                    $(this).removeClass('input-error');
                }
            });

        });


    });
    $(document).ready(function(){
        $('[data-toggle="tooltip"]').tooltip();
    });

</script>



