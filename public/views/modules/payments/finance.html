<!--tabs start-->
<div ng-cloak>
    <md-content>
        <md-tabs md-dynamic-height md-border-bottom>
            <md-tab label="Departmental Report">
                <md-content class="md-padding">
                    <div layout="row">
                        <md-input-container>
                            <label>Choose Start Date</label>
                            <input ng-model="dept.start" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <label>Choose End Date</label>
                            <input ng-model="dept.end" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <md-button class="md-raised md-primary" ng-click="getDepartmental(dept)">Search</md-button>
                        </md-input-container>
                    </div>
  		    <div id="departmentdivtoprint">
                       
                        <md-button class="md-raised md-primary pull-right" id="printbutton" ng-click="printDepartmentReport()"
                                   ng-if="departments.length>0">
                            Print
                        </md-button>

               


		    <table width="800px" border=0 class="table table-responsive" ng-if="departments.length>0">
                            <tr>
                                <td align='center'>
                                    <div>
                                        <div layout="row" layout-align="space-between center">
                                            <div flex>
                                                <img style="float:left;" height="80" width="80" src="/img/arm.png"/>
                                            </div>
                                            <div flex>
                                                <center>
                                                    <h3 class="md-title">{{cardTitle.facility_name}}
                                                        {{cardTitle.description}}</h3>
                                                </center>
                                                <center>
                                                    <h4 class="md-subhead">{{cardTitle.address}}</h4>
                                                </center>
                                                <center>
                                                    <h3>Departmental Finance Report</h3>
                                                </center>
                                            </div>
                                            <div flex>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div flex="100" layout="row" layout-padding>
                                        <div flex="50">
                                            <dt>Start</dt>
                                            <dd>{{dept.start}}</dd>
                                        </div>
                                        <div flex="50">
                                            <dt>End</dt>
                                            <dd>{{dept.end}}</dd>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>

                                    <!-- the actual content -->
                                    <div flex="100" layout="row" layout-align="space-between center">

                                        <h4> Grand Total : {{depGrandTotal | currency: 'Tshs. ' :2}}</h4>


                                        <div>
                                            <h4>Generated on {{department_report_generated_on}}</h4>

                                        </div>
                                    </div>

				    <table class="table table-bordered"
				           width="100%" ng-if="departments.length>0">
				        <thead>
				        <th class="mdl-data-table__cell--non-numeric">Department</th>
				        <th class="mdl-data-table__cell--non-numeric">Transactions</th>
				        <th class="mdl-data-table__cell--non-numeric">Sub Total</th>
				        </thead>
				        <tbody>
				        <tr ng-repeat="dpt in departments">
				            <td class="mdl-data-table__cell--non-numeric">{{dpt.department}}</td>
				            <td class="mdl-data-table__cell--non-numeric">{{dpt.transactions}}</td>
				            <td class="mdl-data-table__cell--non-numeric">{{dpt.total | currency: 'Tshs. ' :2}}</td>
				        </tr>
				        </tbody>
				    </table>

                                </td>
                            </tr>
                        </table>


                  </div>

                </md-content>
            </md-tab>
            <!--sub department report starts-->
            <md-tab label="Sub departments Report">
                <md-content class="md-padding">
                    <div layout="row">
                        <md-input-container>
                            <label>Choose Start Date</label>
                            <input ng-model="dept.start" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <label>Choose End Date</label>
                            <input ng-model="dept.end" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <md-button class="md-raised md-primary" ng-click="getSubDepartmental(dept)">Search</md-button>
                        </md-input-container>
                    </div>
                    <div id="departmentdivtoprint">

                        <md-button class="md-raised md-primary pull-right" id="printbutton" ng-click="printSubDepartmentReport()"
                                   ng-if="subdepartments.length>0">
                            Print
                        </md-button>




                        <table width="800px" border=0 class="table table-responsive" ng-if="subdepartments.length>0">
                            <tr>
                                <td align='center'>
                                    <div>
                                        <div layout="row" layout-align="space-between center">
                                            <div flex>
                                                <img style="float:left;" height="80" width="80" src="/img/arm.png"/>
                                            </div>
                                            <div flex>
                                                <center>
                                                    <h3 class="md-title">{{cardTitle.facility_name}}
                                                        {{cardTitle.description}}</h3>
                                                </center>
                                                <center>
                                                    <h4 class="md-subhead">{{cardTitle.address}}</h4>
                                                </center>
                                                <center>
                                                    <h3>Sub departments Finance Report</h3>
                                                </center>
                                            </div>
                                            <div flex>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div flex="100" layout="row" layout-padding>
                                        <div flex="50">
                                            <dt>Start</dt>
                                            <dd>{{dept.start}}</dd>
                                        </div>
                                        <div flex="50">
                                            <dt>End</dt>
                                            <dd>{{dept.end}}</dd>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>

                                    <!-- the actual content -->
                                    <div flex="100" layout="row" layout-align="space-between center">

                                        <h4> Grand Total : {{subDepGrandTotal | currency: 'Tshs. ' :2}}</h4>


                                        <div>
                                            <h4>Generated on {{department_report_generated_on}}</h4>

                                        </div>
                                    </div>

                                    <table class="table table-bordered"
                                           width="100%" ng-if="subdepartments.length>0">
                                        <thead>
                                        <th class="mdl-data-table__cell--non-numeric">Sub department</th>
                                        <th class="mdl-data-table__cell--non-numeric">Transactions</th>
                                        <th class="mdl-data-table__cell--non-numeric">Sub Total</th>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="dpt in subdepartments">
                                            <td class="mdl-data-table__cell--non-numeric">{{dpt.sub_department_name}}</td>
                                            <td class="mdl-data-table__cell--non-numeric">{{dpt.transactions}}</td>
                                            <td class="mdl-data-table__cell--non-numeric">{{dpt.total | currency: 'Tshs. ' :2}}</td>
                                        </tr>
                                        </tbody>
                                    </table>

                                </td>
                            </tr>
                        </table>


                    </div>

                </md-content>
            </md-tab>
            <!--sub department report ends-->
            <md-tab label="Detailed Report">
                <md-content class="md-padding">

                    <div layout="row">
                        <md-input-container>
                            <label>Choose Start Date</label>
                            <input ng-model="det.start" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <label>Choose End Date</label>
                            <input ng-model="det.end" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <md-button class="md-raised md-primary" ng-click="getDate(det)">Search</md-button>
                        </md-input-container>
                    </div>

                    <div   >
                        <vertical-tabs>
                            <vertical-tab-pane title="Cash Payments">
                                <div id="divtoprint">
                                    <style>
                                        dt {
                                            float: left;
                                            margin-right: 4%;
                                            max-width: 40%;
                                            font-weight: 500;
                                        }

                                        dd {
                                            margin-left: 20%;
                                            margin-bottom: .5em;
                                            font-weight: 600;
                                        }

                                        dd::after {
                                            content: " ";
                                            display: block;
                                            clear: left;
                                        }
                                    </style>

                                    <style media="print">
                                        #printbutton, #quicksearcher {
                                            display: none;
                                        }

                                        .dontprint {
                                            display: none;
                                        }

                                    </style>
                                    <md-button class="md-raised md-primary pull-right" id="printbutton" ng-click="printReport()"
                                               ng-if="detailedData.length>0">
                                        Print
                                    </md-button>

                                    <table width="800px" border=0 class="table table-responsive" ng-if="detailedData.length>0">
                                        <tr>
                                            <td align='center'>
                                                <div>
                                                    <div layout="row" layout-align="space-between center">
                                                        <div flex>
                                                            <img style="float:left;" height="80" width="80" src="/img/arm.png"/>
                                                        </div>
                                                        <div flex>
                                                            <center>
                                                                <h3 class="md-title">{{cardTitle.facility_name}}
                                                                    {{cardTitle.description}}</h3>
                                                            </center>
                                                            <center>
                                                                <h4 class="md-subhead">{{cardTitle.address}}</h4>
                                                            </center>
                                                            <center>
                                                                <h3>Detailed Finance Report(Cash)</h3>
                                                            </center>
                                                        </div>
                                                        <div flex>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div flex="100" layout="row" layout-padding>
                                                    <div flex="50">
                                                        <dt>Start</dt>
                                                        <dd>{{det.start}}</dd>
                                                    </div>
                                                    <div flex="50">
                                                        <dt>End</dt>
                                                        <dd>{{det.end}}</dd>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>

                                                <!-- the actual content -->
                                                <div flex="100" layout="row" layout-align="space-between center">

                                                    <h4> Grand Total : {{detailedTotal | currency: 'Tshs. ' :2}}</h4>


                                                    <div>
                                                        <h4>Generated On {{report_generated_on}}</h4>

                                                    </div>
                                                </div>

                                                <table class="table table-bordered"
                                                       ng-if="detailedData.length>0">
                                                    <thead>
                                                    <th class="mdl-data-table__cell--non-numeric">Sale ID</th>
                                                    <th class="mdl-data-table__cell--non-numeric">MRN</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Patient Name</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Staff Name</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Sub Total</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Discount</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Date</th>
                                                    <th class="mdl-data-table__cell--non-numeric dontprint"><span
                                                            class="glyphicon glyphicon-flash "
                                                            aria-hidden="true"></span></th>
                                                    </thead>
                                                    <tbody ng-repeat="d in detailedData |filter:search " ng-switch on="isSelData(d)"
                                                           ng-click="selData(d,$index)">
                                                    <md-input-container id="quicksearcher"><label>Quick search</label><input
                                                            type='text' ng-model='search'/>
                                                    </md-input-container>
                                                    <tr ng-class="{sel:selIdx==$index}">
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.receipt_number}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.medical_record_number}}
                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.first_name+' '+d.middle_name+' '+d.last_name}}
                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.user_name}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.total_items}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.sub_total | currency:
                                                            'Tshs. ' :2}}
                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.total_discount | currency:
                                                            'Tshs. ' :2}}
                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.created_at}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric dontprint">
                                                            <a class="mdl-button mdl-js-button mdl-button--raised "
                                                               data-toggle="collapse"
                                                               aria-expanded="false" aria-hidden="true"
                                                               ng-click="getDetailedData(d,det)">More..</a>
                                                            <a class="mdl-button mdl-js-button mdl-button--raised"
                                                               ng-click="getReceiptCopy(d,1)">Print</a>
                                                        </td>
                                                    </tr>

                                                    <tr ng-switch-when="true">
                                                        <td colspan="10" class="mdl-data-table__cell--non-numeric">
                                                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">
                                                                <tr style="color: black;">
                                                                    <th class="mdl-data-table__cell--non-numeric">Sale ID</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Item Name</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Price</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Amount Paid</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Discount</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Remarks</th>
                                                                    <th class="mdl-data-table__cell--non-numeric"></th>
                                                                </tr>
                                                                <tr ng-repeat="dc in getDetailedReports[0]">
                                                                    <td class="mdl-data-table__cell--non-numeric">
                                                                        {{dc.receipt_number}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.item_name}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.price}}</td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.quantity}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">
                                                                        {{dc.quantity*dc.price-dc.discount | currency: 'Tshs. ' :2}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.discount |
                                                                        currency:
                                                                        'Tshs. ' :2}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.comments}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric"></td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>

                                                    </tbody>
                                                </table>


                                            </td>
                                        </tr>
                                    </table>


                                </div>
                            </vertical-tab-pane>
                            <vertical-tab-pane title="GePG Payments">

                                <div id="divtoprint">
                                    <style>
                                        dt {
                                            float: left;
                                            margin-right: 4%;
                                            max-width: 40%;
                                            font-weight: 500;
                                        }

                                        dd {
                                            margin-left: 20%;
                                            margin-bottom: .5em;
                                            font-weight: 600;
                                        }

                                        dd::after {
                                            content: " ";
                                            display: block;
                                            clear: left;
                                        }
                                    </style>

                                    <style media="print">
                                        #printbutton, #quicksearcher {
                                            display: none;
                                        }

                                        .dontprint {
                                            display: none;
                                        }

                                    </style>
                                    <md-button class="md-raised md-primary pull-right" id="printbutton" ng-click="printReport()"
                                               ng-if="detailedDataGePG.length>0">
                                        Print
                                    </md-button>

                                    <table width="800px" border=0 class="table table-responsive" ng-if="detailedData.length>0">
                                        <tr>
                                            <td align='center'>
                                                <div>
                                                    <div layout="row" layout-align="space-between center">
                                                        <div flex>
                                                            <img style="float:left;" height="80" width="80" src="/img/arm.png"/>
                                                        </div>
                                                        <div flex>
                                                            <center>
                                                                <h3 class="md-title">{{cardTitle.facility_name}}
                                                                    {{cardTitle.description}}</h3>
                                                            </center>
                                                            <center>
                                                                <h4 class="md-subhead">{{cardTitle.address}}</h4>
                                                            </center>
                                                            <center>
                                                                <h3>Detailed Finance Report(GePG)</h3>
                                                            </center>
                                                        </div>
                                                        <div flex>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div flex="100" layout="row" layout-padding>
                                                    <div flex="50">
                                                        <dt>Start</dt>
                                                        <dd>{{det.start}}</dd>
                                                    </div>
                                                    <div flex="50">
                                                        <dt>End</dt>
                                                        <dd>{{det.end}}</dd>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>

                                                <!-- the actual content -->
                                                <div flex="100" layout="row" layout-align="space-between center">

                                                    <h4> Grand Total : {{detailedTotalGePG | currency: 'Tshs. ' :2}}</h4>


                                                    <div>
                                                        <h4>Generated On {{report_generated_on}}</h4>

                                                    </div>
                                                </div>

                                                <table class="table table-bordered"
                                                       ng-if="detailedDataGePG.length>0">
                                                    <thead>
                                                    <th class="mdl-data-table__cell--non-numeric">Sale ID</th>
                                                    <th class="mdl-data-table__cell--non-numeric">MRN</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Patient Name</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Staff Name</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Sub Total</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Discount</th>
                                                    <th class="mdl-data-table__cell--non-numeric">Date</th>
                                                    <th class="mdl-data-table__cell--non-numeric dontprint"><span
                                                            class="glyphicon glyphicon-flash "
                                                            aria-hidden="true"></span></th>
                                                    </thead>
                                                    <tbody ng-repeat="d in detailedDataGePG |filter:search " ng-switch on="isSelData(d)"
                                                           ng-click="selData(d,$index)">
                                                    <md-input-container id="quicksearcher"><label>Quick search</label><input
                                                            type='text' ng-model='search'/>
                                                    </md-input-container>
                                                    <tr ng-class="{sel:selIdx==$index}">
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.gepg_receipt}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.medical_record_number}}
                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.first_name+'
                                                            '+d.middle_name+' '+d.last_name}}
                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.user_name}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.total_items}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.sub_total | currency:
                                                            'Tshs. ' :2}}
                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.total_discount | currency:
                                                            'Tshs. ' :2}}
                                                        </td>
                                                        <td class="mdl-data-table__cell--non-numeric">{{d.created_at}}</td>
                                                        <td class="mdl-data-table__cell--non-numeric dontprint">
                                                            <a class="mdl-button mdl-js-button mdl-button--raised "
                                                               data-toggle="collapse"
                                                               aria-expanded="false" aria-hidden="true"
                                                               ng-click="getDetailedData(d,det)">More..</a>
                                                            <a class="mdl-button mdl-js-button mdl-button--raised"
                                                               ng-click="getReceiptCopy(d,2)">Print</a>
                                                        </td>
                                                    </tr>

                                                    <tr ng-switch-when="true">
                                                        <td colspan="10" class="mdl-data-table__cell--non-numeric">
                                                            <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">
                                                                <tr style="color: black;">
                                                                    <th class="mdl-data-table__cell--non-numeric">Sale ID</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Item Name</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Price</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Amount Paid</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Discount</th>
                                                                    <th class="mdl-data-table__cell--non-numeric">Remarks</th>
                                                                    <th class="mdl-data-table__cell--non-numeric"></th>
                                                                </tr>
                                                                <tr ng-repeat="dc in getDetailedReports[1]">
                                                                    <td class="mdl-data-table__cell--non-numeric">
                                                                        {{dc.gepg_receipt}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.item_name}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.price}}</td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.quantity}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">
                                                                        {{dc.quantity*dc.price-dc.discount | currency: 'Tshs. ' :2}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.discount |
                                                                        currency:
                                                                        'Tshs. ' :2}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric">{{dc.comments}}
                                                                    </td>
                                                                    <td class="mdl-data-table__cell--non-numeric"></td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>

                                                    </tbody>
                                                </table>


                                            </td>
                                        </tr>
                                    </table>


                                </div>
                            </vertical-tab-pane>
                        </vertical-tabs>
                    </div>

                </md-content>
            </md-tab>
            <md-tab label="Employees Report">
                <md-content class="md-padding">
                    <div layout="row">
                        <md-input-container>
                            <label>Choose Start Date</label>
                            <input ng-model="emp.start" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <label>Choose End Date</label>
                            <input ng-model="emp.end" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"/>
                        </md-input-container>
                        <md-input-container>
                            <md-button class="md-raised md-primary" ng-click="getCashiers(emp)">Search</md-button>
                        </md-input-container>
                    </div>
		   <!-- new mark up -->
                    <vertical-tabs>
                        <vertical-tab-pane title="Cash transactions">

                            <md-button class="md-raised md-primary pull-right" id="cashierprintbutton" ng-click="printCashiersReport()"
                                       ng-if="cashiers[0].length>0">
                                Print
                            </md-button>
                            <div id="employeedivtoprint">
                             <table width="800px" border="0" class="table table-responsive" ng-if="cashiers.length>0">
                                    <tr >
                                        <td align='center'>
                                            <div>
                                                <div layout="row" layout-align="space-between center">
                                                    <div flex>
                                                        <img style="float:left;" height="80" width="80" src="/img/arm.png"/>
                                                    </div>
                                                    <div flex>
                                                        <center>
                                                            <h3 class="md-title">{{cardTitle.facility_name}}
                                                                {{cardTitle.description}}</h3>
                                                        </center>
                                                        <center>
                                                            <h4 class="md-subhead">{{cardTitle.address}}</h4>
                                                        </center>
                                                        <center>
                                                            <h3>Employees Finance Report(Cash)</h3>
                                                        </center>
                                                    </div>
                                                    <div flex>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div flex="100" layout="row" layout-padding>
                                                <div flex="50">
                                                    <dt>Start</dt>
                                                    <dd>{{emp.start}}</dd>
                                                </div>
                                                <div flex="50">
                                                    <dt>End</dt>
                                                    <dd>{{emp.end}}</dd>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>


                                            <div flex="100" layout="row" layout-align="space-between center">

                                                <h4> Grand Total : {{csGrandTotal | currency: 'Tshs. ' :2}}</h4>


                                                <div>
                                                    <h4>Generated On {{employee_report_generated_on}}</h4>

                                                </div>
                                            </div>

                                            <table class="table table-bordered"
                                                   width="100%" ng-if="cashiers[0].length>0">
                                                <thead>
                                                <th class="mdl-data-table__cell--non-numeric">Staff's Name</th>
                                                <th class="mdl-data-table__cell--non-numeric">Transactions</th>
                                                <th class="mdl-data-table__cell--non-numeric">Sub Total</th>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="cs in cashiers[0]">
                                                    <td class="mdl-data-table__cell--non-numeric">{{cs.user_name}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{cs.transactions}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{cs.sub_total | currency: 'Tshs. ' :2}}</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </table>


                            </div>
                        </vertical-tab-pane>
                        <vertical-tab-pane title="GePG transactions">
                            <md-button class="md-raised md-primary pull-right" id="cashierprintbutton" ng-click="printCashiersReport()"
                                       ng-if="cashiers[1].length>0">
                                Print
                            </md-button>
                            <div id="employeedivtoprint">
                                <table width="800px" border=0 class="table table-responsive" ng-if="cashiers[1].length>0">
                                    <tr>
                                        <td align='center'>
                                            <div>
                                                <div layout="row" layout-align="space-between center">
                                                    <div flex>
                                                        <img style="float:left;" height="80" width="80" src="/img/arm.png"/>
                                                    </div>
                                                    <div flex>
                                                        <center>
                                                            <h3 class="md-title">{{cardTitle.facility_name}}
                                                                {{cardTitle.description}}</h3>
                                                        </center>
                                                        <center>
                                                            <h4 class="md-subhead">{{cardTitle.address}}</h4>
                                                        </center>
                                                        <center>
                                                            <h3>Employees Finance Report(GePG)</h3>
                                                        </center>
                                                    </div>
                                                    <div flex>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div flex="100" layout="row" layout-padding>
                                                <div flex="50">
                                                    <dt>Start</dt>
                                                    <dd>{{emp.start}}</dd>
                                                </div>
                                                <div flex="50">
                                                    <dt>End</dt>
                                                    <dd>{{emp.end}}</dd>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>


                                            <div flex="100" layout="row" layout-align="space-between center">

                                                <h4> Grand Total : {{csGrandTotalGepg | currency: 'Tshs. ' :2}}</h4>


                                                <div>
                                                    <h4>Generated On {{employee_report_generated_on}}</h4>

                                                </div>
                                            </div>

                                            <table class="table table-bordered"
                                                   width="100%" ng-if="cashiers[1].length>0">
                                                <thead>
                                                <th class="mdl-data-table__cell--non-numeric">Staff's Name</th>
                                                <th class="mdl-data-table__cell--non-numeric">Transactions</th>
                                                <th class="mdl-data-table__cell--non-numeric">Sub Total</th>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="cs in cashiers[1]">
                                                    <td class="mdl-data-table__cell--non-numeric">{{cs.user_name}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{cs.transactions}}</td>
                                                    <td class="mdl-data-table__cell--non-numeric">{{cs.sub_total | currency: 'Tshs. ' :2}}</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </table>


                            </div>
                        </vertical-tab-pane>
                    </vertical-tabs>

                </md-content>
            </md-tab>

            <md-tab label="Exemption Report">
                <md-content class="md-padding">

                    <fieldset>

                        <div class="">
                            <div class="pull-right no-print">
                                <md-input-container>
                                    <label class="no-print ">Choose Start Date</label>
                                    <input ng-model="data.start_date" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"
                                           class="no-print "/>
                                </md-input-container>
                                <md-input-container>
                                    <label class="no-print ">Choose End Date</label>
                                    <input ng-model="data.end_date" datetime-picker date-format="yyyy-MM-dd HH:mm:ss"
                                           class="no-print "/>
                                </md-input-container>
                                <md-button ng-click="exemption_finance_depts(data)"
                                           class="md-raised md-primary no-print">Search
                                </md-button>
                            </div>
                            <div id='divtoprint90'>
                                <a ng-click="exempted_department()" title="Print" ng-if="exempted_departments"
                                   class="no-print "><b class="glyphicon glyphicon-print "></b> </a>

                                <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp"
                                       width="100%" ng-if="exempted_departments.length>0">
                                    <h4 ng-if="exempted_departments.length>0">EXEMPTION FINANCE</h4>
                                    From:{{data.start_date}} &nbsp;&nbsp;&nbsp;To:{{data.end_date}}

                                    <thead style="background-color:beige">
                                    <th class="mdl-data-table__cell--non-numeric">#</th>
                                    <th class="mdl-data-table__cell--non-numeric">Department</th>
                                    <th class="mdl-data-table__cell--non-numeric">Exemptions</th>
                                    <!--<th class="mdl-data-table__cell&#45;&#45;non-numeric">Number exemptions</th>-->
                                    <th class="mdl-data-table__cell--non-numeric">Amount Exempted</th>

                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="exempted_department in exempted_departments | filter:search track by $index">
                                        <td class="mdl-data-table__cell--non-numeric">{{$index +1}}</td>
                                        <td class="mdl-data-table__cell--non-numeric">
                                            {{exempted_department.department_name}}
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric">{{exempted_department.idadi}}</td>
                                        <!--<td class="mdl-data-table__cell&#45;&#45;non-numeric">{{finance.freq}}</td>-->
                                        <td class="mdl-data-table__cell--non-numeric">{{exempted_department.total |
                                            currency:" " }}
                                        </td>

                                    </tr>
                                    <tr style="background-color:beige">

                                        <th class="mdl-data-table__cell--non-numeric" colspan="2">Total</th>
                                        <th class="mdl-data-table__cell--non-numeric"><u> </u></th>
                                        <th class="mdl-data-table__cell--non-numeric"><u>{{totalexempted | currency:" "
                                            }}</u></th>


                                    </tr>
                                    </tbody>
                                </table>

                                <!--<canvas id="bar" class="chart chart-bar"-->
                                <!--chart-data="data" chart-labels="labels" chart-series="series">-->
                                <!--</canvas>-->
                            </div>


                        </div>
                    </fieldset>

                </md-content>
            </md-tab>
            <md-tab label="Pending bills" ng-click="getPendingBills()">
                <md-content class="md-padding">
                    <table class="table table-bordered"
                           ng-if="pendingBills.length>0">
                        <thead>
                        <th class="mdl-data-table__cell--non-numeric">Sale ID</th>
                        <th class="mdl-data-table__cell--non-numeric">MRN</th>
                        <th class="mdl-data-table__cell--non-numeric">Patient Name</th>
                        <th class="mdl-data-table__cell--non-numeric">Staff Name</th>
                        <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                        <th class="mdl-data-table__cell--non-numeric">Sub Total</th>
                        <th class="mdl-data-table__cell--non-numeric">Discount</th>
                        <th class="mdl-data-table__cell--non-numeric">Date</th>
                        <th class="mdl-data-table__cell--non-numeric dontprint"><span
                                class="glyphicon glyphicon-flash "
                                aria-hidden="true"></span></th>
                        </thead>
                        <tbody ng-repeat="d in pendingBills |filter:search " ng-switch on="isSelData(d)"
                               ng-click="selData(d,$index)">
                        <md-input-container id="quicksearcher"><label>Quick search</label><input
                                type='text' ng-model='search'/>
                        </md-input-container>
                        <tr ng-class="{sel:selIdx==$index}">
                            <td class="mdl-data-table__cell--non-numeric">{{d.receipt_number}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{d.medical_record_number}}
                            </td>
                            <td class="mdl-data-table__cell--non-numeric">{{d.first_name+' '+d.middle_name+' '+d.last_name}}
                            </td>
                            <td class="mdl-data-table__cell--non-numeric">{{d.user_name}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{d.total_items}}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{d.sub_total | currency:
                                'Tshs. ' :2}}
                            </td>
                            <td class="mdl-data-table__cell--non-numeric">{{d.total_discount | currency:
                                'Tshs. ' :2}}
                            </td>
                            <td class="mdl-data-table__cell--non-numeric">{{d.created_at}}</td>
                            <td class="mdl-data-table__cell--non-numeric dontprint">
                                <a class="mdl-button mdl-js-button mdl-button--raised "
                                   data-toggle="collapse"
                                   aria-expanded="false" aria-hidden="true"
                                   ng-click="getPendingBillData(d)">More..</a>
                                <!--<a class="mdl-button mdl-js-button mdl-button&#45;&#45;raised"-->
                                   <!--ng-click="getReceiptCopy(d,1)">Print</a>-->
                            </td>
                        </tr>

                        <tr ng-switch-when="true">
                            <td colspan="10" class="mdl-data-table__cell--non-numeric">
                                <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">
                                    <tr style="color: black;">
                                        <th class="mdl-data-table__cell--non-numeric">Sale ID</th>
                                        <th class="mdl-data-table__cell--non-numeric">Item Name</th>
                                        <th class="mdl-data-table__cell--non-numeric">Price</th>
                                        <th class="mdl-data-table__cell--non-numeric">Quantity</th>
                                        <th class="mdl-data-table__cell--non-numeric">Amount to pay</th>
                                        <th class="mdl-data-table__cell--non-numeric">Discount</th>
                                        <th class="mdl-data-table__cell--non-numeric">Remarks</th>
                                        <th class="mdl-data-table__cell--non-numeric"></th>
                                    </tr>
                                    <tr ng-repeat="dc in pendingBillData">
                                        <td class="mdl-data-table__cell--non-numeric">
                                            {{dc.receipt_number}}
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric">{{dc.item_name}}
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric">{{dc.price}}</td>
                                        <td class="mdl-data-table__cell--non-numeric">{{dc.quantity}}
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric">
                                            {{dc.quantity*dc.price-dc.discount | currency: 'Tshs. ' :2}}
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric">{{dc.discount |
                                            currency:
                                            'Tshs. ' :2}}
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric">{{dc.comments}}
                                        </td>
                                        <td class="mdl-data-table__cell--non-numeric"></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                </md-content>
            </md-tab>
        </md-tabs>
    </md-content>
</div>
<!--tabs end-->
