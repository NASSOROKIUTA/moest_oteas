<head>
	 <style>
		tr.paid td{
			font-weight:bold;
			font-size:18px;
			background-color:#efeae8;
		}
		
		tr.waiting td{
			font-size:18px;
			font-color:#fdffaa;
			background-color:#fcd202;
		}
		
		tr.waiting_cntr td{
			font-size:18px;
			background-color:#c9c1bd;
		}
	</style>
</head>
<div layut="row">
    <md-input-container class="md-block">
        <input data-toggle="tooltip" title="Click here to search patients" type="text" placeholder="Click here to search patients"
               uib-typeahead="patient as patient.first_name+' '+patient.middle_name+' '+patient.last_name for patient in searchPatients($viewValue) |filter:$viewValue |limitTo:5" ng-model="selectedPatient"
               typeahead-on-select="getBillModal($item)" autocomplete="off">
    </md-input-container>
</div>
<div layout="row">
    <div flex="pendingGePGConfirmations.length > 0 ? 55 : 100">
        <div ng-repeat="bill in billsData" class="mdl-chip mdl-chip--contact mdl-chip--deletable" ng-click="getBillModal(bill)">
            <a href="">
                <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">{{bill.first_name | limitTo: 1 }}</span>
                <span class="mdl-chip__text" > {{bill.first_name | uppercase}}  {{bill.middle_name | uppercase}}  {{bill.last_name | uppercase}} </span>
            </a>
        </div>
    </div>
	<div flex="1">
	</div>
    <div flex="44" ng-show="pendingGePGConfirmations.length > 0">
        <div class="row table-responsive" style="padding-left:4px;padding-right:4px">
			<table class="table table-bordered table-condensed">
				<thead>
					<th colspan="3" style="background-color:#f0f5f5; font-weight:bold;">GEPG BILLS</th>
					<th style="background-color:#c9c1bd; font-weight:bold;">WAITING CNTRL NUMBER</th>
					<th style="background-color:#fcd202; font-weight:bold;">WAITING PAYMENT</th>
					<th style="background-color:#efeae8; font-weight:bold;">PAID</th>
				</thead>
				<thead>
					<th colspan="6" class="input">
						<input type="text"   ng-model="search" placeholder="Quick Search....." class=" form form-control"/>
					</th>
				</thead>
				<thead>
					<th style="text-align:left;background-color:#ccddee"></th>
					<th style="text-align:left;background-color:#ccddee">Name</th>
					<th style="text-align:left;background-color:#ccddee">Control#</th>
					<th style="text-align:left;background-color:#ccddee">Cancel</th>
					<th style="text-align:left;background-color:#ccddee">Receipt</th>
					<th style="text-align:left;background-color:#ccddee">Remove</th>
				</thead>
				<tbody >
					<tr ng-repeat="bill in pendingGePGConfirmations | filter:search track by $index" ng-class="{ paid: bill.paid.toString() == '1', waiting: bill.paid.toString() == '0' && bill.PayCntrNum != '', waiting_cntr: bill.paid.toString() == '0' && bill.PayCntrNum == ''}">
						<td style="text-align:right">{{$index+1}}.</td>
						<td style="text-align:left">{{bill.name}}</td>
						<td><strong>{{bill.PayCntrNum.replace(regex,' ')}}</strong></td>
						<td ng-click="cancelBill(bill,$index);" style="text-align:center; vertical-align:middle"><ng-md-icon icon="close" size="30" ng-if="bill.paid.toString() == '0'"></ng-md-icon></td>
						<td ng-click="GePGReceipt(bill);" style="text-align:center; vertical-align:middle"><ng-md-icon icon="print" size="30" ng-if="bill.paid.toString() == '1'"></ng-md-icon>
						</td>
						<td  ng-click="Processed(bill,$index)" style="text-align:center; vertical-align:middle"><ng-md-icon icon="check" size="30" ng-if="bill.paid.toString() == '1'"></ng-md-icon></td>
					</tr>
					<thead>
					<tr>
						<th colspan="6" style="text-align:left;background-color:#ccddee"></th>
					</tr>
				</thead>
				
				</tbody>
			</table>
		 </div> 
    </div>
</div>
<div flex-gt-sm="50">
    <md-checkbox ng-model="data.cb" aria-label="Check balance">
        Check balance
    </md-checkbox>
    <div ng-if=" data.cb ==true">
        <md-input-container >
            <label>Choose Start Date</label>
            <input ng-model="cs.start" datetime-picker date-format="yyyy-MM-dd HH:mm:ss" />
        </md-input-container>
        <md-input-container >
            <label>Choose End Date</label>
            <input ng-model="cs.end" datetime-picker date-format="yyyy-MM-dd HH:mm:ss" />
        </md-input-container>
        <md-input-container>
            <md-button class="md-raised md-primary" ng-click="cashiersBalance(cs)">Search</md-button>
        </md-input-container>
    </div>
    <md-content ng-if="transactions.length>0 && data.cb ==true ">
        Dear <strong>{{transactions[0].user_name}}</strong> you have a total of {{transactions[0].sub_total | currency : ' Tshs. ' :2}}
            from  {{transactions[0].transactions}} transactions. <br> Thank you!
    </md-content>
</div>